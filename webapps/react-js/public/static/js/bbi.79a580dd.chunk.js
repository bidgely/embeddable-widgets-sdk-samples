(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{312:function(e,t,a){"use strict";a.r(t);var n=a(3),i=a(4),r=a(8),o=a(6),s=a(5),l=a(2),c=a.n(l),d=a(0),u=a(49),g=a(378),p=a(34),m=a(124),h=a(96),f=a(7),b=a(1),A=a(14),S=function(e,t,a,n){var i=A.a.getColors().colors,r=e!==b.Hb.PERCENTAGE&&t?t:"",o=e!==b.Hb.PERCENTAGE?e===b.Hb.COST?Object(f.c)({cost:a,round:!0,showCurrency:!0}):Object(f.f)({usage:a,round:!0,showUsageUnit:!0,fuelType:n}):"",s=o&&o.length<8?20:16,l=r?'<div style="text-align: center;font-size:16px;color:rgb('.concat(i["--foreground_500"],')">')+r+"</div>":"",c='<div style="text-align:center;font-size:'+s+"px;line-height:40px;padding-right:3px;font-weight:"+b.u.bold+";color:rgb(".concat(i["--foreground_500"],')">')+o+"</div>";if(l||c)return'<div aria-label="'.concat(r," ").concat(o,'">').concat(l+c,"</div>")},E=function(e){var t=e.plotLeft+e.series[0].center[0],a=e.plotTop+e.series[0].center[1];if(e.pieCenterText){var n=e.pieCenterText.getBBox();e.pieCenterText.attr({x:t-n.width/2,y:a-n.height/4,"aria-hidden":!1})}},T=function(e,t,a){return{align:"right",verticalAlign:"middle",x:-150,itemWidth:270,symbolWidth:10,symbolHeight:10,itemMarginTop:0,itemMarginBottom:20,padding:3,useHTML:!0,itemStyle:{fontSize:"20px",color:"rgb(".concat(e["--foreground_500"],")"),lineHeight:"25px",width:"270px"},labelFormatter:function(){var n={cost:this.y,percentage:this.percentage,usage:this.y,orgCost:this.orgCost,orgPercent:this.orgPercent,orgUsage:this.orgUsage},i=Object(f.p)(t,n,a),r=this.name?this.name.replace(i,""):this.name;return'<span style="cursor:default; '.concat(0===this.index?"color:rgb(".concat(e["--foreground_500"],");font-weight:").concat(b.u.medium,";"):"color:rgb(".concat(e["--foreground_500"],");font-weight:").concat(b.u.normal,";"),'">')+i+" "+r+"</span>"}}},O=function(e,t,a,n){return{name:"",data:e,size:t,innerSize:a,sizeBy:"radius",showInLegend:n,accessibility:{enabled:n},dataLabels:{enabled:!1},states:{hover:{enabled:!1,halo:{size:0}},inactive:{opacity:1}}}},I=function(e,t,a){return{align:"right",x:0,width:"215px",verticalAlign:"middle",layout:"vertical",padding:3,itemMarginTop:0,itemMarginBottom:20,itemStyle:{fontSize:"14px",color:"rgb(".concat(e["--foreground_500"],")"),lineHeight:"22px",width:"230px"},labelFormatter:function(){var e={cost:this.y,percentage:this.percentage,usage:this.y,orgCost:this.orgCost,orgPercent:this.orgPercent,orgUsage:this.orgUsage},n=Object(f.p)(t,e,a);return'<span style="cursor: default;">'+n+" "+(this.name?this.name.replace(n,""):this.name)+"</span>"}}},D=function(e,t,a,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=[];return t&&1===t.length?(r.push(O(t,n.innerRing.size,n.innerRing.innerSize,i)),r):(r.push(O(e,n.outerSlice.size,n.outerSlice.innerSize,!1)),r.push(O(t,n.innerRing.size,n.innerRing.innerSize,i)),r.push(O(a,n.innerSlice.size,n.innerSlice.innerSize,!1)),r)},v=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=A.a.getColors().colors;return{chart:{backgroundColor:"rgb(".concat(n["--background_300"],")"),type:"bar",animation:{enabled:!1},marginRight:t?45:a?75:35,marginTop:20,height:e},xAxis:{lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",categories:[],title:{text:null},labels:{enabled:!1}},yAxis:{gridLineWidth:0,minorGridLineWidth:0,min:0,title:{text:"",align:""},labels:{enabled:!1}},tooltip:{enabled:!1},plotOptions:{bar:{stacking:"normal",animation:!1},series:{borderWidth:0,enableMouseTracking:!0,pointWidth:10,states:{hover:{enabled:!1},inactive:{opacity:1}}}},legend:{enabled:!1}}},y=function(e,t,a,n,i){return{enabled:!i,point:{valueDescriptionFormat:null,descriptionFormatter:function(i){var r=Object(h.a)(i.appId,t)+", ";switch(e){case b.Hb.COST:r+="cost";var o=Object(f.c)({cost:i.cost,round:!0,showCurrency:!0,lessThanOne:i.orgCost<1});r+=o&&-1!==o.indexOf("<")?o:"="+o,r+=", "+i.y+"%";break;case b.Hb.PERCENTAGE:var s=Object(f.d)({percentageVal:i.percentage,round:!0,lessThanOne:i.orgPercent<1});r+=s&&-1!==s.indexOf("<")?s:"="+s;break;default:r+="usage";var l=Object(f.f)({usage:i.usage,round:!0,showUsageUnit:!0,fuelType:a,lessThanOne:i.orgUsage<1});r+=l&&-1!==l.indexOf("<")?l:"="+l,r+=", "+i.y+"%"}return Object(f.u)(r,n)}}}},M=function(e,t,a,n,i){var r=A.a.getColors().colors,o=[];return o.push({name:"",accessibility:{enabled:!1},data:t,color:"rgba(".concat(r["--data_colors_graph_primary"],", 0.20)"),dataLabels:{inside:!1,enabled:!0,useHTML:!0,formatter:function(){var t=(Object(f.B)(),"rgb(".concat(r["--foreground_500"],")")),a={cost:this.point.cost,percentage:100-this.point.percentage,usage:this.point.usage,orgCost:this.point.orgCost,orgPercent:this.point.orgPercent,orgUsage:this.point.orgUsage};return'<span style="position:absolute;top:-10px;padding-right:10px;width:90px;text-align:right;font-weight:'+b.u.bold+";font-size: 16px;color: "+t+';">'+Object(f.p)(e,a,i)+"</span>"}}}),o.push({name:"",data:a,color:"".concat((Object(f.B)(),"rgb(".concat(r["--data_colors_graph_primary"],")"))),dataLabels:{enabled:!0,align:"left",y:-10,style:{textOutline:0},useHTML:!0,formatter:function(){return'<span style="position:absolute;top:-30px;left:-5px;align-items:center;"><span class="bidgely-icon-'+b.g[this.point.appId].iconClassName+(Object(f.B)()?"-color-accessible":"")+'" style="font-size:30px;"/><div style="display:inherit;padding-left: 10px;font-weight: '+b.u.medium+";font-family: "+Object(f.v)()+", Helvetica Neue, Arial, sans-serif;font-size: 16px;color: "+"rgb(".concat(r["--foreground_500"],');vertical-align:middle;">')+Object(h.a)(this.point.appId,n)+"</div></span>"}}}),o},C=a(381),R=a(398),_=a(372),L=a(50);function N(e){var t,a=e.fuelType,n=Object(L.d)().runMode===b.Lb,i=e.itemizationData.itemizationDetails[a],r=Object(h.b)(e.showAllAppliances,e.singleChart||e.isMobileView,i,e.mode,!i),o=[],s=Object(p.a)(r);try{for(s.s();!(t=s.n()).done;){var l=t.value,d=v(l.chartHeight,e.isMobileView,n);Object(f.L)()&&(d.accessibility=y(e.mode,e.appliancesList,e.fuelType,e.translationsData,e.showError)),d.series=M(e.mode,l.lowLightData,l.highlightData,e.appliancesList,e.fuelType),o.push(d)}}catch(A){s.e(A)}finally{s.f()}var u=i?"":m.isIE||m.isSafari?"ie-no-data":"no-data",g=!e.isMobileView&&!e.singleChart&&1===o.length;return c.a.createElement("div",{className:"ms-bar-chart-container","data-widget-name":b.Pb.INSIGHTS.MONTHLY_SUMMARY,"data-show-appliances-colors":"true"},c.a.createElement("div",{className:"ms-bar-chart "+u},o.map(function(t,a){return c.a.createElement("div",{key:a,role:"group",className:"ms-bar-chart-inner ".concat(e.isMobileView?"mobile":"")},c.a.createElement(C.a,Object.assign({options:t,immutable:!0,widgetConfigs:e.widgetConfigs,widgetStrings:e.widgetStrings,isModalTableEnabled:e.isModalTableEnabled,isInsights:!0,handleADA:e.handleADA,monthlyData:o,excludeModal:0!==a,adaModalTitle:e.isSolar?e.widgetStrings.titleSolar:e.widgetStrings.title,liveAnnouncerMsg:e.liveAnnouncerMsg},e)))}),g&&c.a.createElement("div",{className:"ms-chart-faq-container"},c.a.createElement(R.a,{raised:!0},c.a.createElement(_.a,{widgetConfigs:e.widgetConfigs.faqModal,widgetStrings:e.widgetStrings.faqModal,configColors:e.configColors,goToFaq:e.goToFaq,isSolar:e.isSolar,disableAda:e.showError,isAccessibility:f.B})))))}var w=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={seriesData:null,slicedSeriesData:null,totalCostOrConsumption:null,mode:null,noData:!1},i.chart=null,i}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){if(t.mode!==this.state.mode&&this.chart&&this.chart.pieCenterText){var a=this.state.mode,n=this.props.isSolar||a!==b.Hb.USAGE?null:this.props.totalText;this.chart.pieCenterText.attr({text:S(a,n,this.state.totalCostOrConsumption,this.props.fuelType)}),this.chart.redraw()}}},{key:"chartCallback",value:function(e){this.chart=e}},{key:"render",value:function(){var e,t=this,a=this.props.responsiveness,n=a.isDesktop,i=a.isLargeDesktop,r=this.state.mode,o=this.state.totalCostOrConsumption,s=this.state.seriesData.length,l=n||i?300:s>=10?500:"auto",d=Math.ceil(s/2),u=s<10?300+25*d:"auto",g=function(e,t,a,n,i,r,o,s){var l=A.a.getColors().colors,c={chart:{backgroundColor:"rgb(".concat(l["--background_300"],")"),type:"pie",marginLeft:0,marginTop:0,height:a?210:i,spacingLeft:0,style:{textShadow:"none",color:"rgb(".concat(l["--foreground_500"],")")},events:{load:function(){var a=S(t,n,e,r);if(a){var i=this.plotLeft+this.series[0].center[0],o=this.plotTop+this.series[0].center[1];this.pieCenterText=this.renderer.text(a,i,o,!0).add(),E(this)}},redraw:function(){E(this)}}},title:{text:""},subtitle:{text:""},plotOptions:{pie:{shadow:!1,startAngle:310,borderWidth:0,series:{allowPointSelect:!1,shadow:!1,events:{legendItemClick:function(){return!1},mouseOver:function(e){e.preventDefault()}}},point:{events:{legendItemClick:function(){return!1},mouseOver:function(e){e.preventDefault()}}},size:"80%"}},tooltip:{formatter:function(){var e={cost:this.y,percentage:this.percentage,usage:this.y,orgCost:this.point.orgCost,orgPercent:this.point.orgPercent,orgUsage:this.point.orgUsage},a=Object(f.p)(t,e,r);return"<b>"+(this.point.name?this.point.name.replace(a,""):this.point.name)+"</b>: "+a}},legend:o?T(l,t,r):I(l,t,r)};return Object(f.L)()&&(c.accessibility={enabled:!s,point:{descriptionFormatter:function(e){return e.name}}}),c}(o,r,!1,this.props.isSolar||r!==b.Hb.USAGE?null:this.props.totalText,l,this.props.fuelType,!0,this.props.showError),p=(e=window.innerWidth-52)<=300?{itemTextWidth:e-10,itemWidth:void 0}:{itemTextWidth:e/2-5,itemWidth:e/2-10},h=p.itemTextWidth,O=p.itemWidth;return g.responsive={rules:[{condition:{minWidth:800},chartOptions:{legend:{itemStyle:{fontSize:"18px"}}}},{condition:{maxWidth:800},chartOptions:{legend:{x:0},series:D(this.state.slicedSeriesData,this.state.seriesData,this.state.slicedSeriesData,b.Y.MEDIUM)}},{condition:{maxWidth:490},chartOptions:{legend:{x:40},series:D(this.state.slicedSeriesData,this.state.seriesData,this.state.slicedSeriesData,b.Y.SMALL)}},{condition:{maxWidth:400},chartOptions:{chart:{animation:!1,height:u},plotOptions:{pie:{center:[null,90]}},legend:{itemStyle:{fontSize:"11px",lineHeight:"15px",width:h-20},align:"center",verticalAlign:"bottom",layout:"horizontal",alignColumns:!0,itemWidth:O,width:"auto",x:0,padding:0,useHTML:!0,itemMarginTop:0,itemMarginBottom:10},series:D(this.state.slicedSeriesData,this.state.seriesData,this.state.slicedSeriesData,b.Y.SMALL)}},{condition:{maxWidth:300},chartOptions:{chart:{animation:!1,height:u},plotOptions:{pie:{center:[null,90]}},legend:{itemStyle:{fontSize:"11px",lineHeight:"15px",width:h-20},align:"center",verticalAlign:"bottom",layout:"horizontal",alignColumns:!0,itemWidth:O,width:"auto",x:0,useHTML:!0,padding:3,itemMarginTop:0,itemMarginBottom:10},series:D(this.state.slicedSeriesData,this.state.seriesData,this.state.slicedSeriesData,b.Y.SMALL)}}]},g.series=D(this.state.slicedSeriesData,this.state.seriesData,this.state.slicedSeriesData,b.Y.LARGE_V2),c.a.createElement(c.a.Fragment,null,c.a.createElement("svg",{height:"0",width:"0","aria-hidden":"true"},c.a.createElement("defs",null,c.a.createElement("filter",{id:"blurFilter2",y:"-20",height:"500",x:"-20",width:"120"},c.a.createElement("feOffset",{in:"SourceGraphic",dx:"0",dy:"0",result:"offOut"}),c.a.createElement("feGaussianBlur",{in:"offOut",stdDeviation:"10",result:"blur2"}),c.a.createElement("feMerge",null,c.a.createElement("feMergeNode",{in:"blur2"}),c.a.createElement("feMergeNode",{in:"SourceGraphic"}))),c.a.createElement("filter",{id:"filter",y:"-20",height:"500",x:"-20",width:"150"}," ",c.a.createElement("feOffset",{in:"SourceGraphic",dx:"0",dy:"0"})," ",c.a.createElement("feGaussianBlur",{stdDeviation:"10",result:"DROP"})," ",c.a.createElement("feComposite",{in:"DROP",operator:"in",result:"SHADOW1"})," ",c.a.createElement("feComponentTransfer",{in:"SHADOW1",result:"SHADOW"}," ",c.a.createElement("feFuncA",{type:"table",tableValues:"0 1.2"})," ")," ",c.a.createElement("feMerge",null," ",c.a.createElement("feMergeNode",{in:"SHADOW"})," ",c.a.createElement("feMergeNode",{in:"SourceGraphic"})," ")," "))),c.a.createElement("div",{className:"ms-pie-chart "+(this.state.noData?m.isIE||m.isSafari||m.isMobile?"ie-no-data ":"no-data ":"")+(!m.isIE&&!m.isSafari&&!m.isMobile&&" chart-filter"),"data-widget-name":b.Pb.INSIGHTS.MONTHLY_SUMMARY,"data-show-appliances-colors":"true"},null!=this.state.seriesData&&o?c.a.createElement(C.a,Object.assign({options:g,oneToOne:!0,updateArgs:[!0],callback:function(e){t.chartCallback(e)},monthlyData:!0,isInsights:!0,adaModalTitle:this.props.isSolar?this.props.widgetStrings.titleSolar:this.props.widgetStrings.title,liveAnnouncerMsg:this.props.liveAnnouncerMsg},this.props)):""))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.fuelType,n=!e.itemizationData.itemizationDetails[a],i=Object(h.c)(e.itemizationData.itemizationDetails[a],e.mode,e.appliancesList,e.fuelType);return i.seriesData!==t.seriesData||i.slicedSeriesData!==t.seriesData||i.totalCostOrConsumption!==t.totalCostOrConsumption||e.mode!==t.mode?{seriesData:i.seriesData,slicedSeriesData:i.slicedSeriesData,totalCostOrConsumption:i.totalCostOrConsumption,mode:e.mode,noData:n}:null}}]),a}(c.a.Component),H=a(119),U=a(71),x=a(336),B=a(9),G=a(27),k=a(29),P=a(32),j=a.n(P),Y=a(390),F=["client","offset","scroll","bounds","margin"];function V(e){var t=[];return F.forEach(function(a){e[a]&&t.push(a)}),t}function z(e,t){var a={};if(t.indexOf("client")>-1&&(a.client={top:e.clientTop,left:e.clientLeft,width:e.clientWidth,height:e.clientHeight}),t.indexOf("offset")>-1&&(a.offset={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),t.indexOf("scroll")>-1&&(a.scroll={top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}),t.indexOf("bounds")>-1){var n=e.getBoundingClientRect();a.bounds={top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height}}if(t.indexOf("margin")>-1){var i=getComputedStyle(e);a.margin={top:i?parseInt(i.marginTop):0,right:i?parseInt(i.marginRight):0,bottom:i?parseInt(i.marginBottom):0,left:i?parseInt(i.marginLeft):0}}return a}var W,q=function(e){var t,a;return a=t=function(t){function a(){for(var e,a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).state={contentRect:{entry:{},client:{},offset:{},scroll:{},bounds:{},margin:{}}},e._animationFrameID=null,e._resizeObserver=null,e._node=null,e._window=null,e.measure=function(t){var a=z(e._node,W||V(e.props));t&&(a.entry=t[0].contentRect),e._animationFrameID=e._window.requestAnimationFrame(function(){null!==e._resizeObserver&&(e.setState({contentRect:a}),"function"===typeof e.props.onResize&&e.props.onResize(a))})},e._handleRef=function(t){var a;null!==e._resizeObserver&&null!==e._node&&e._resizeObserver.unobserve(e._node),e._node=t,e._window=(a=e._node)&&a.ownerDocument&&a.ownerDocument.defaultView||window;var n=e.props.innerRef;n&&("function"===typeof n?n(e._node):n.current=e._node),null!==e._resizeObserver&&null!==e._node&&e._resizeObserver.observe(e._node)},e}Object(k.a)(a,t);var n=a.prototype;return n.componentDidMount=function(){this._resizeObserver=null!==this._window&&this._window.ResizeObserver?new this._window.ResizeObserver(this.measure):new Y.default(this.measure),null!==this._node&&(this._resizeObserver.observe(this._node),"function"===typeof this.props.onResize&&this.props.onResize(z(this._node,W||V(this.props))))},n.componentWillUnmount=function(){null!==this._window&&this._window.cancelAnimationFrame(this._animationFrameID),null!==this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)},n.render=function(){var t=this.props,a=(t.innerRef,t.onResize,Object(G.a)(t,["innerRef","onResize"]));return Object(l.createElement)(e,Object(B.a)({},a,{measureRef:this._handleRef,measure:this.measure,contentRect:this.state.contentRect}))},a}(l.Component),t.propTypes={client:j.a.bool,offset:j.a.bool,scroll:j.a.bool,bounds:j.a.bool,margin:j.a.bool,innerRef:j.a.oneOfType([j.a.object,j.a.func]),onResize:j.a.func},a}(function(e){var t=e.measure,a=e.measureRef,n=e.contentRect;return(0,e.children)({measure:t,measureRef:a,contentRect:n})});q.displayName="Measure",q.propTypes.children=j.a.func;var X=q,K=a(603),J=a(374),Q=null,$=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).openFooterDialog=function(){i.setState({openModal:!0}),Q=i.footerEl.current},i.closeFooterDialog=function(){i.setState({openModal:!1}),Q&&Q.focus()},i.footerEl=c.a.createRef(),i.state={showAllAppliances:!0,singleChart:!1,openModal:!1},i}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(){this.props.isMobileView&&Object(f.g)(!this.state.openModal)}},{key:"componentWillUnmount",value:function(){this.props.isMobileView&&Object(f.g)(!0)}},{key:"onWidthChange",value:function(){var e=window.innerWidth<800;this.state.singleChart!==e&&this.setState({singleChart:e,showAllAppliances:!e})}},{key:"showAllAppliancesToggle",value:function(){this.setState({showAllAppliances:!0})}},{key:"getLiveAnnouncerMsg",value:function(e,t,a){var n,i=e.monthlySummaryDataArray[e.monthlySummaryActiveIndex];return e.fetchingData?n=this.props.widgetStrings.loadingLabel:t?n=i.itemizationDisclaimer:t||(n=Object(f.P)(this.props.widgetStrings.showingDataLabel,{interval:a})),n}},{key:"render",value:function(){var e=this,t=this.props,a=t.monthlySummaryData,n=t.translationsData,i=t.isMobileView,r=t.showHelperFooter,o=t.widgetStrings,s=t.widgetConfigs,l=this.props.session.userProfile.fuelType.toLowerCase(),d=a.monthlySummaryDataArray[a.monthlySummaryActiveIndex],u=!!d.itemizationDetails[l]&&d.itemizationDetails[l].length>b.M,g=(!d.itemizationDetails||!d.itemizationDetails[l]||a.apiError)&&!a.fetchingData,p=a.autoVoiceOver?this.getLiveAnnouncerMsg(a,g,this.props.intervalDetails):"";return c.a.createElement(X,{bounds:!0,onResize:function(){setTimeout(function(){e.onWidthChange()},100)}},function(t){var m=t.measureRef;return c.a.createElement("div",{ref:m,className:"content-wrapper"},c.a.createElement("div",{className:"chart-container ".concat(a.apiError?"no-data":"")},c.a.createElement(J.a,{msg:p}),a.fetchingData?c.a.createElement("div",{className:"ms-data-loading"},c.a.createElement(H.a,null)):0!==a.monthlySummaryDataArray.length&&"Pie"===a.activeChartType?c.a.createElement(w,{widgetConfigs:s,widgetStrings:o,isMobileView:i,itemizationData:d,mode:a.activeMode,monthlySummaryData:a,totalText:o.totalUsageLabel,appliancesList:e.props.appliancesList,showAllAppliances:e.state.showAllAppliances,fuelType:l,configs:e.props.configs,goToFaq:e.props.goToFaq,configColors:e.props.configColors,isModalTableEnabled:e.props.isModalTableEnabled,handleADA:e.props.handleADA,widgetName:e.props.widgetName,enableLeftArrow:e.props.enableLeftArrow,enableRightArrow:e.props.enableRightArrow,intervalDetails:e.props.intervalDetails,liveAnnouncerMsg:p,handleArrowClick:e.props.handleArrowClick,translations:e.props.translations,errorMessage:d.itemizationDisclaimer,showError:g,isSolar:e.props.isSolar,currentRef:e.props.currentRef,responsiveness:e.props.responsiveness}):c.a.createElement(N,{widgetConfigs:s,widgetStrings:o,isMobileView:i,itemizationData:d,mode:a.activeMode,appliancesList:e.props.appliancesList,fuelType:l,translationsData:n,showAllAppliances:e.state.showAllAppliances,singleChart:e.state.singleChart,goToFaq:e.props.goToFaq,configColors:e.props.configColors,isModalTableEnabled:e.props.isModalTableEnabled,handleADA:e.props.handleADA,widgetName:e.props.widgetName,enableLeftArrow:e.props.enableLeftArrow,enableRightArrow:e.props.enableRightArrow,intervalDetails:e.props.intervalDetails,liveAnnouncerMsg:p,handleArrowClick:e.props.handleArrowClick,translations:e.props.translations,configs:e.props.configs,monthlySummaryData:a,errorMessage:d.itemizationDisclaimer,showError:g,isSolar:e.props.isSolar,currentRef:e.props.currentRef}),!a.fetchingData&&r&&c.a.createElement("div",{className:"ms-footer"},c.a.createElement("span",{role:"link",ref:e.footerEl,onClick:function(t){return e.openFooterDialog(t)},onKeyPress:function(t){return e.openFooterDialog(t)},"aria-hidden":g,tabIndex:g?-1:0,className:"".concat(Object(f.L)()?"ada-focus":"")},o.faqLabel,c.a.createElement("span",{className:"tooltip bidgely-icon-faq"}))),u&&!e.state.showAllAppliances&&"Pie"!==a.activeChartType&&c.a.createElement("div",{className:"ms-appliance-toggle"},c.a.createElement(x.a,{btnText:o.showMoreAppsLabel,btnWidth:"50%",disableRipple:!0,btnBackground:"".concat((Object(f.B)(),"rgb(".concat(e.props.configColors["--primary_500"],")"))),borderColor:"".concat((Object(f.B)(),"rgb(".concat(e.props.configColors["--primary_500"],")"))),textColor:"rgb(".concat(e.props.configColors["--foreground_300"],")"),hoverColor:"rgb(".concat(e.props.configColors["--primary_500"],")"),btnTextTransform:"none",onClick:function(){return e.showAllAppliancesToggle()}})),e.state.openModal?c.a.createElement("div",{className:"dialog","aria-labelledby":"header"},c.a.createElement("div",{className:"dialog-window"},c.a.createElement(K.a,{className:"popup-root",elevation:3},c.a.createElement(_.a,{widgetConfigs:s.faqModal,widgetStrings:o.faqModal,isMobileView:i,configs:e.props.configs,configColors:e.props.configColors,goToFaq:e.props.goToFaq,getParent:e.props.getParent,isAccessibility:e.props.isAccessibility,open:e.state.openModal,closeFooterDialog:e.closeFooterDialog,headerId:"header",isModal:!0}))),e.state.openModal&&c.a.createElement("div",{onClick:e.closeFooterDialog,className:"dialog-mask"})):""),g?c.a.createElement("div",{className:"no-data-disclaimer","data-widget-name":b.Pb.INSIGHTS.MONTHLY_SUMMARY,"data-text-color":"foreground_400"},d.itemizationDisclaimer?d.itemizationDisclaimer:o.dataNotAvailable):"",""!==o.chartDisclaimer&&c.a.createElement("div",{className:"disclaimer-msg","data-widget-name":b.Pb.INSIGHTS.MONTHLY_SUMMARY,"data-text-color":"foreground_400"},o.chartDisclaimer))})}}]),a}(c.a.Component),Z=Object(U.withLastLocation)(Object(u.b)(function(e){return{session:e.session,monthlySummaryData:e.monthlySummaryData,translationsData:e.translationsData.data,appliancesList:e.appliances.appliancesList,queryParams:e.queryParams,responsiveness:e.responsiveness}})($)),ee=a(369),te=a(352),ae=a(421),ne=a(47),ie=a(46),re=a(36),oe=a(15),se=a.n(oe),le=a(11),ce=a(97),de=a(123);function ue(e,t,a,n){return function(i){var r=Object(le.e)(ce.b.getEndpoint(e));se.a.get(r,{params:t}).then(function(e){var t=e.data.payload;i(a?Object(ie.k)(t,n):Object(ie.j)(t,n))}).catch(function(e){var t=de.a.getApiErrorInfo(e);i(Object(ie.i)(t))})}}var ge=a(21),pe=a(20),me=a(57),he=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).shiftFocusBack=function(){i.filterAnchorEl.current&&i.filterAnchorEl.current.focus()},i.setParentEle=function(e){i.setState({parentEle:e})},i.handleKeyPress=function(e){if(27!==e.keyCode){if(Object(f.L)()&&i.state.parentEle){var t=i.state.parentEle,a=Array.from(t.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, h2, p,  [tabindex]:not([tabindex="-1"]')),n=a[0],r=a[a.length-1],o=i.state.currentElement,s=a.indexOf(o);if(39===e.keyCode||40===e.keyCode||9===e.keyCode&&!e.shiftKey){if(9===e.keyCode&&e.preventDefault(),o===r)return void i.setState({currentElement:n},function(){return i.state.currentElement.focus()});i.setState({currentElement:a[s+1]},function(){return a[s+1].focus()})}if(37===e.keyCode||38===e.keyCode||9===e.keyCode&&e.shiftKey){if(9===e.keyCode&&e.shiftKey&&e.preventDefault(),o===n)return void i.setState({currentElement:r},function(){return i.state.currentElement.focus()});i.setState({currentElement:a[s-1]},function(){return i.state.currentElement.focus()})}}}else i.handleFooterDialog(!1,null)},i.state={noData:!1,openFilter:!1,openFooterDialog:!1,isModalTableEnabled:!1,parentEle:null,currentElement:null,refEl:null,currentRef:null,filterRef:null},i.configColors=A.a.getColors().colors,i.fetchBillingCycleData=i.fetchBillingCycleData.bind(Object(r.a)(i)),i.handleFilterModal=i.handleFilterModal.bind(Object(r.a)(i)),i.onUpdateFilter=i.onUpdateFilter.bind(Object(r.a)(i)),i.toggleChartType=i.toggleChartType.bind(Object(r.a)(i)),i.toggleModeType=i.toggleModeType.bind(Object(r.a)(i)),i.handleFooterDialog=i.handleFooterDialog.bind(Object(r.a)(i)),i.setFooterEl=i.setFooterEl.bind(Object(r.a)(i)),i.goToFaq=i.goToFaq.bind(Object(r.a)(i)),i.filterAnchorEl=c.a.createRef(),i.handleADA=i.handleADA.bind(Object(r.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){if(!this.props.monthlySummaryData.activeMode){var e=this.props.widgetConfigs.defaultChartMode,t=this.props.widgetConfigs.defaultChartModeSolar;this.props.updateActiveMode(this.props.isSolar?t:e)}var a=this.props.widgetConfigs.defaultChartType;a&&this.props.updateActiveChartType({activeChartType:a})}},{key:"componentDidUpdate",value:function(e,t){if(t.openFooterDialog!==this.state.openFooterDialog){var a=null;this.state.openFooterDialog&&this.state.parentEle&&(a=Array.from(this.state.parentEle.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, h2, p, [tabindex]:not([tabindex="-1"]')),this.setState({currentElement:a[0]}))}var n=this.props.monthlySummaryData;if(this.state.isModalTableEnabled&&n&&!n.fetchingData){var i=n.monthlySummaryDataArray[n.monthlySummaryActiveIndex],r=this.props.session.userProfile.fuelType.toLowerCase();i.itemizationDetails&&i.itemizationDetails[r]&&!n.apiError||this.handleADA()}}},{key:"handleADA",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({isModalTableEnabled:!this.state.isModalTableEnabled,currentRef:e&&e}),this.props.updateModalTableEnabled&&this.props.updateModalTableEnabled(!this.state.isModalTableEnabled)}},{key:"fetchBillingCycleData",value:function(e){var t=this,a=this.props.monthlySummaryData.monthlySummaryDataArray[0].itemizationDetails;if(Object(re.a)(this.props.userId,b.V.INSIGHTS,{clicked:b.n,shown:b.C.MONTHLY_SUMMARY,usageArrowClicked:1===e?b.h.RIGHT:b.h.LEFT,intervalStart:a.startTs,intervalEnd:a.endTs,widget:b.Pb.INSIGHTS.MONTHLY_SUMMARY,version:b.m.V2}),Object(re.b)("action-click",{pageName:b.V.INSIGHTS,click:b.n,direction:1===e?b.h.RIGHT:b.h.LEFT}),this.props.monthlySummaryData.monthlySummaryDataArray[this.props.monthlySummaryData.monthlySummaryActiveIndex+e])this.props.fetchingData(),setTimeout(function(){t.props.updateActiveIndex(e,t.props.session.userProfile.fuelType)},100);else{this.props.fetchingData();var n=this.props.monthlySummaryData.monthlySummaryDataArray[this.props.monthlySummaryData.monthlySummaryActiveIndex],i={locale:this.props.locale,"measurement-type":Object(f.n)(this.props.session.userProfile.fuelType),"date-format":this.props.widgetConfigs.dateFormat,"highest-day-date-format":this.props.widgetConfigs.highestDayDateFormat};1===e?(i["bill-start"]=n.nextBillStart,i["bill-end"]=n.nextBillEnd,i["next-bill-cycle"]=!0):(i["bill-start"]=n.previousBillStart,i["bill-end"]=n.previousBillEnd,i["next-bill-cycle"]=!1),Object(ne.b)()&&(i.templateName="".concat(b.Pb.HOME.CONSUMPTION_BREAKDOWN,".FETCH_MONTHLY_SUMMARY_DATA")),this.props.fetchMonthlySummaryData(this.props.userId,i,!0,this.props.session.userProfile.fuelType)}}},{key:"handleFilterModal",value:function(e,t){this.setState(function(a){return Object(d.a)(Object(d.a)({},a),{},{openFilter:e,filterRef:t&&t})})}},{key:"handleFooterDialog",value:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n&&this.setState({refEl:n}),t?(e.stopPropagation(),ge.c.broadcast(ge.a.POPUP_OPENED,{widgetId:pe.a.INSIGHTS_MONTHLY_SUMMARY}),ge.c.subscribe(ge.a.CLOSE_POPUP,function(){return a.toggleFooterDialog()})):ge.c.broadcast(ge.a.POPUP_CLOSED,{widgetId:pe.a.INSIGHTS_MONTHLY_SUMMARY}),t||this.state.refEl.current&&this.state.refEl.current.focus(),this.toggleFooterDialog(t)}},{key:"toggleFooterDialog",value:function(e){this.setState(function(t){return Object(d.a)(Object(d.a)({},t),{},{openFooterDialog:e})}),Object(re.a)(this.props.userId,b.V.INSIGHTS,{clicked:"Monthly Summary Itemization",openTooltip:e,tab:b.C.MONTHLY_SUMMARY,widget:b.Pb.INSIGHTS.MONTHLY_SUMMARY,version:b.m.V2})}},{key:"goToFaq",value:function(e,t){Object(re.a)(this.props.userId,b.V.INSIGHTS,{clicked:b.P,tab:b.C.MONTHLY_SUMMARY,widget:b.Pb.INSIGHTS.MONTHLY_SUMMARY,version:b.m.V2}),Object(me.f)(t)?window.open(t):Object(me.h)(this.props.history,this.props.location,e,t)}},{key:"setFooterEl",value:function(e){this.footerEl=e}},{key:"onUpdateFilter",value:function(e,t){var a=this.props.monthlySummaryData;e.activeMode!==a.activeMode&&this.toggleModeType(),this.toggleChartType(e.chartType),this.setState({openFilter:!1}),t&&this.state.filterRef&&this.state.filterRef.focus()}},{key:"toggleChartType",value:function(e){this.props.monthlySummaryData.activeChartType!==e&&(this.props.updateActiveChartType({activeChartType:e}),Object(re.a)(this.props.userId,b.V.INSIGHTS,{clicked:"usageChartToggle",chart:e,shown:b.C.MONTHLY_SUMMARY,widget:b.Pb.INSIGHTS.MONTHLY_SUMMARY,version:b.m.V2}))}},{key:"toggleModeType",value:function(){var e=this.props.widgetConfigs.leftToggleUnit,t=this.props.widgetConfigs.rightToggleUnit,a=this.props.monthlySummaryData.activeMode===e?t:e;Object(re.a)(this.props.userId,b.V.INSIGHTS,{clicked:b.Bb.USAGE_COST_TOGGLE,type:a,shown:b.C.MONTHLY_SUMMARY,widget:b.Pb.INSIGHTS.MONTHLY_SUMMARY,version:b.m.V2}),this.props.updateActiveMode(a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.monthlySummaryData,n=t.translationsData,i=t.isMobileView,r=a.monthlySummaryDataArray[a.monthlySummaryActiveIndex],o="".concat(Object(f.j)(r.itemizationDetails.startDateFormatted,b.zb.YEAR,this.props.configData,i)," - ").concat(Object(f.j)(r.itemizationDetails.endDateFormatted,b.zb.YEAR,this.props.configData,i)),s=a.activeMode||"",l={chartType:a.activeChartType,activeMode:s},d=this.props.session.userProfile.fuelType.toLowerCase(),u=r.itemizationDetails[d],p=i||u&&u.length>b.O||"Pie"===l.chartType,m=this.props.widgetStrings.adaLabel||n["DASHBOARD.ADA_BTN_TEXT"],h=this.props.widgetStrings.title,A=(!r.itemizationDetails||!r.itemizationDetails[d]||a.apiError)&&!a.fetchingData,S=this.context.runMode===b.Lb;return c.a.createElement(c.a.Fragment,null,i&&c.a.createElement(c.a.Fragment,null,(h||Object(f.L)())&&c.a.createElement("div",{className:S?"widget-header-cont ".concat(Object(f.J)()?"no-bg":""):"ms-header"},h&&c.a.createElement("div",{"aria-level":"2",role:"heading",tabIndex:"0","data-widget-name":b.Pb.INSIGHTS.MONTHLY_SUMMARY,"data-text-color":"foreground_400"},h),Object(f.L)()?c.a.createElement("button",{ref:"msAdaRefMobile",className:"accessibility-cta insights-page ada-mobile ".concat(A?"disabled-btn":""),disabled:A,"aria-label":m,onClick:function(){return e.handleADA(e.refs.msAdaRefMobile)}},c.a.createElement("span",{className:"bidgely-icon-accessibility"})):""),c.a.createElement("div",{className:"ms-controller-mobile"},c.a.createElement(ee.a,{enableLeftArrow:!a.leftArrowDisabled,enableRightArrow:!a.rightArrowDisabled,intervalDetails:o,handleArrowClick:this.fetchBillingCycleData,handleModal:this.handleFilterModal,widgetName:b.Pb.INSIGHTS.BILL_ANALYSIS,direction:1,translations:n,configs:this.props.configData,isShowADABtn:!0,handleADA:this.handleADA,noDataFound:A,isMobileView:i}))),!i&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"ms-controller"},c.a.createElement(te.a,{widgetName:b.Pb.INSIGHTS.MONTHLY_SUMMARY,enableLeftArrow:!a.leftArrowDisabled,enableRightArrow:!a.rightArrowDisabled,intervalDetails:o,handleArrowClick:this.fetchBillingCycleData,direction:1,translations:n}),c.a.createElement("div",{className:this.props.configData.web_accessibility?"ada-btn-wrapper":""},c.a.createElement("button",{ref:this.filterAnchorEl,className:"ms-filter ".concat(A?"disabled-btn":""),disabled:A,onClick:function(){return e.handleFilterModal(!0,e.filterAnchorEl.current)},tabIndex:A?-1:0},c.a.createElement("span",{className:"filter-icon"}),c.a.createElement("span",{className:"filter-text"},this.props.widgetStrings.filterLabel)),Object(f.L)()?c.a.createElement("button",{ref:"msAdaRef",className:"accessibility-cta insights-page ".concat(A?"disabled-btn":""),disabled:A,tabIndex:A?-1:0,"aria-label":m,onClick:function(){return e.handleADA(e.refs.msAdaRef)}},c.a.createElement("span",{className:"bidgely-icon-accessibility"})):""))),c.a.createElement("div",{className:"ms-details"},c.a.createElement(g.a,{widgetStrings:this.props.widgetStrings,widgetConfigs:this.props.widgetConfigs,isMobileView:i,configColors:this.configColors,isSolar:this.props.isSolar})),c.a.createElement("div",{className:"ms-chart"},c.a.createElement(Z,{widgetStrings:this.props.widgetStrings,widgetConfigs:this.props.widgetConfigs,isMobileView:i,configColors:this.configColors,showHelperFooter:p,handleFooterDialog:this.handleFooterDialog,setFooterEl:this.setFooterEl,goToFaq:this.goToFaq,isModalTableEnabled:this.state.isModalTableEnabled,handleADA:this.handleADA,widgetName:b.Pb.INSIGHTS.MONTHLY_SUMMARY,enableLeftArrow:!a.leftArrowDisabled,enableRightArrow:!a.rightArrowDisabled,intervalDetails:o,handleArrowClick:this.fetchBillingCycleData,direction:1,translations:n,configs:this.props.configData,isSolar:this.props.isSolar,currentRef:this.state.currentRef,isAccessibility:f.B})),c.a.createElement(ae.a,{widgetName:b.Pb.INSIGHTS.MONTHLY_SUMMARY,isMobileView:i,open:this.state.openFilter,controls:l,handleModal:this.handleFilterModal,onUpdateFilter:this.onUpdateFilter,configData:this.props.configData,skipOngoingBC:this.props.widgetConfigs.skipOngoingBC,widgetStrings:this.props.widgetStrings.filterModal,toggleChartType:this.toggleChartType,toggleModeType:this.toggleModeType,anchorEl:this.filterAnchorEl.current,isSolar:this.props.isSolar,shiftFocusBack:this.shiftFocusBack}))}}]),a}(c.a.Component);he.contextType=L.a;var fe=Object(u.b)(function(e){return{session:e.session,monthlySummaryData:e.monthlySummaryData,translationsData:e.translationsData.data,userId:e.session.userProfile.userId,configData:e.configs.data,locale:e.configs.locale}},function(e){return{fetchMonthlySummaryData:function(t,a,n,i){return e(ue(t,a,n,i))},updateActiveChartType:function(t){return e(Object(ie.m)(t))},updateActiveIndex:function(t,a){return e(Object(ie.n)(t,a))},updateActiveMode:function(t){return e(Object(ie.o)(t))},fetchingData:function(){return e(Object(ie.l)())}}})(he),be=a(23),Ae=a(350),Se=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).widgetTrackingInfo=void 0,i.updateModalTableEnabled=function(e){i.setState({isModalTableEnabled:!e})},i.state={isModalTableEnabled:!1},i.widgetTrackingInfo=be.a.getInstance().createWidgetInfo(b.Qb.INSIGHTS_MS,"V2"),ge.c.subscribe(ge.a.RELOAD_WIDGET,i.init.bind(Object(r.a)(i))),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){Object(re.a)(this.props.userId,b.V.INSIGHTS,{viewed:!0,shown:b.C.MONTHLY_SUMMARY,version:b.m.V2},this.props),this.init()}},{key:"init",value:function(){if(0===this.props.monthlySummaryData.monthlySummaryDataArray.length){var e={"date-format":this.props.widgetConfigs.dateFormat,"highest-day-date-format":this.props.widgetConfigs.highestDayDateFormat,locale:this.props.locale,"measurement-type":Object(f.n)(this.props.session.userProfile.fuelType)};Object(ne.b)()&&(e.templateName="".concat(b.Pb.INSIGHTS.MONTHLY_SUMMARY,".FETCH_MONTHLY_SUMMARY_DATA")),this.props.fetchingData(),this.props.fetchMonthlySummaryData(this.props.userId,e,!1,this.props.session.userProfile.fuelType)}}},{key:"componentDidUpdate",value:function(e){if(this.widgetTrackingInfo&&e.monthlySummaryData.fetchingData&&!this.props.monthlySummaryData.fetchingData){var t=this.props.monthlySummaryData.apiFailed?b.f.ERROR:this.props.monthlySummaryData.monthlySummaryDataArray.length?b.f.SUCCESS:b.f.DATA_NOT_AVAILABLE,a=this.props.monthlySummaryData.errorInfo;be.a.getInstance().logWidgetInfo(this.widgetTrackingInfo,t,a),this.widgetTrackingInfo=null}}},{key:"render",value:function(){var e=this,t=this.props,a=t.monthlySummaryData,n=t.responsiveness,i=t.translationsData,r=t.widgetConfigs,o=t.widgetStrings,s=n.isMobileView,l=Object(f.K)(),d=l?o.titleSolar:o.title,u=this.context.runMode===b.Lb;return c.a.createElement("div",{className:"insights-ms-inner-container-v2 ".concat(Object(f.B)()?"accessible-color-insights-ms-V2":""," ").concat(this.state.isModalTableEnabled?"ada-modal-view":""),role:"region","aria-label":i["TOP_MENU_ITEMS.MONTHLY_SUMMARY"]},!s&&d&&c.a.createElement("div",{className:"".concat(u?"widget-header-cont ".concat(Object(f.J)()?"no-bg":""," sdk-mode"):"ms-header"),"data-widget-name":b.Pb.INSIGHTS.MONTHLY_SUMMARY,"data-text-color":"foreground_400"},c.a.createElement("span",{role:"heading","aria-level":2},d)),0!==a.monthlySummaryDataArray.length?c.a.createElement(fe,{widgetConfigs:r,widgetStrings:o,isMobileView:s,history:this.props.history,location:this.props.location,isSolar:l,updateModalTableEnabled:function(t){return e.updateModalTableEnabled(t)}}):a.apiFailed?c.a.createElement("div",{className:"error-page"},c.a.createElement("div",{className:"error-msg",tabIndex:0},o.dataNotAvailable)):c.a.createElement(H.a,null))}}]),a}(c.a.Component);Se.contextType=L.a;t.default=Object(Ae.b)(pe.a.INSIGHTS_MONTHLY_SUMMARY,Object(U.withLastLocation)(Object(u.b)(function(e){return{session:e.session,monthlySummaryData:e.monthlySummaryData,userId:e.session.userProfile.userId,configData:e.configs.data,locale:e.configs.locale,translationsData:e.translationsData.data,responsiveness:e.responsiveness}},function(e){return{fetchMonthlySummaryData:function(t,a,n,i){return e(ue(t,a,n,i))},fetchingData:function(){return e(Object(ie.l)())}}})(Se)))},336:function(e,t,a){"use strict";a.d(t,"a",function(){return f});var n=a(362),i=a(10),r=a(2),o=a.n(r),s=a(600),l=a(327),c=a(340),d=a.n(c),u=a(601),g=(a(348),a(7)),p=a(602),m=["cssClassName","hoverTextColor","isMobileView","btnTextColor","btnTextSize","btnBoxShadow","btnWidth","btnTextTransform","hoverColor","textColor","borderColor","btnBackground","btnText","btnVariant"],h=Object(l.a)({root:{color:function(e){return e.textColor},border:function(e){return e.borderColor?"1px solid "+e.borderColor:"none"},backgroundColor:function(e){return e.btnBackground},boxShadow:function(e){return e.btnBoxShadow},"&:hover":{backgroundColor:function(e){return e.hoverColor},color:function(e){return e.hoverTextColor},boxShadow:function(e){return e.btnBoxShadow},borderColor:function(e){return e.borderHoverColor||e.borderColor}},height:function(e){return e.btnHeight},width:function(e){return e.btnWidth},padding:function(e){return e.isMobileView?"5px 10px":""},paddingBottom:function(e){return e.paddingBottom}},btnActive:{backgroundColor:function(e){return e.activeColor},color:function(e){return e.activeTextColor},"&:hover":{backgroundColor:function(e){return e.activeColor},color:function(e){return e.activeTextColor}}},label:{fontSize:function(e){return e.btnTextSize},color:function(e){return e.btnTextColor},textTransform:function(e){return e.btnTextTransform?e.btnTextTransform:"Uppercase"},justifyContent:function(e){return e.labelAlign},textOverflow:"ellipsis",overflow:"hidden"},icon:{marginRight:function(e){return e.iconMarginRight?e.iconMarginRight:"25px"}},iconActive:{color:function(e){return e.iconActiveColor}}});function f(e){var t=h(e),a=e.isBidgelyIcon?d()(e.iconLeft,Object(i.a)({},t.iconActive,e.isIconActive)):"",r=e.cssClassName,l=(e.hoverTextColor,e.isMobileView,e.btnTextColor,e.btnTextSize,e.btnBoxShadow,e.btnWidth,e.btnTextTransform,e.hoverColor,e.textColor,e.borderColor,e.btnBackground,e.btnText,e.btnVariant,Object(n.a)(e,m));return o.a.createElement(s.a,Object.assign({"aria-pressed":e.ariaPressed,"aria-label":e.ariaLabel,type:e.type?e.type:"button",display:e.display,className:(e.isActive?t.btnActive:"")+" "+(r||"")+(e.disabled||e.ariaDisabled?" disabled":""),variant:e.btnVariant?e.btnVariant:"text",classes:{root:t.root,label:t.label},onClick:e.onClick,disableRipple:!e.disableRipple||e.disableRipple,disabled:!!e.disabled&&e.disabled,"data-focus-element":!!e.dataFocusElement&&e.dataFocusElement,role:e.role,"aria-checked":e.ariaChecked,"aria-selected":e.ariaSelected,"aria-disabled":e.ariaDisabled,"aria-describedby":e.ariaDescribedby,tabIndex:e.tabIndex,onKeyDown:function(t){return function(t){(e.ariaDisabled||e.disabled)&&Object(g.L)()&&(9===t.keyCode||9===t.keyCode&&t.shiftKey||37===t.keyCode||38===t.keyCode||39===t.keyCode||40===t.keyCode||t.preventDefault())}(t)}},l),e.loading?o.a.createElement(p.a,{color:"inherit",size:30}):o.a.createElement(o.a.Fragment,null,e.iconLeft?e.isBidgelyIcon?o.a.createElement("span",{className:a}):o.a.createElement(u.a,{classes:{root:t.icon},className:e.isIconActive?t.iconActive:""},e.iconLeft):"",e.btnText,e.iconRight?o.a.createElement(u.a,{classes:{root:t.icon},className:e.isIconActive?t.iconActive:""},e.iconRight):""))}},341:function(e,t,a){"use strict";var n={PAGE_NAME:"pageName",WIDGET:"widget",CLICKED:"clicked",CTA_CLICKED:"ctaClicked",CLICK:"click",SCROLL:"scroll",NO_RECO:"noreco",GRID:"grid",FILTER:"filter",FILTER_ITEMS:"filterItems",RECO_ID:"recoId"},i={hideHeader:"DASHBOARD.BILL_PROJECTION_V2.HIDE_HEADER",displayType:"billprojection.displayValue",ctaNavUrl:"DASHBOARD.HOME.BILL_PROJECTION.V2.WC_NAV_URL_USAGE",inputDateFormat:"date_format",tooltipTextColor:"dashboard.billProjection.tooltipTextColor",dateFormatYear:"DATE_FORMATS.YEAR.BILLING_CYCLE_DURATION",dateFormatProjectionBar:"DATE_FORMATS.BILL_PROJECTION.V2.PROJECTION_BAR"},r={title:"HOME.BILL_PROJECTION.PROJECTED_BILL",tooltip:"DASHBOARD.HOME.BILL_PROJECTION.V2.DESCRIPTION_TITLE",tooltipHeader:"DASHBOARD.HOME.BILL_PROJECTION.V2.DESCRIPTION_POPUP_TITLE",tooltipContent:"DASHBOARD.HOME.BILL_PROJECTION.V2.DESCRIPTION",usageAccessibilityLabel:"DASHBOARD.HOME.BILL_PROJECTION.V2.PROJECTION_BAR_TEXT",daysLeft:"DASHBOARD.HOME.BILL_PROJECTION.V2.DAYS_LEFT",current:"DASHBOARD.HOME.BILL_PROJECTION.V2.CURRENT",projected:"DASHBOARD.HOME.BILL_PROJECTION.V2.PROJECTED",cta:"DASHBOARD.HOME.BILL_PROJECTION.V2.SEE_MORE",apiError:"HOME.BILL_PROJECTION.API_ERROR"},o={showDetailsBtn:"DASHBOARD.RECOMMENDATION_DETAILS_ENABLED",showInsights:"DASHBOARD.RECO_INSIGHTS_ENABLED",insightsImg:"DASHBOARD.RECOMMENDATIONS.INSIGHTS_BULB"},s={likeLabel:"RECOMMENDATIONS.TIPS.LIKE",likesLabel:"RECOMMENDATIONS.TIPS.LIKES",btnDetails:"RECOMMENDATIONS.CTA_BUTTON.TEXT"},l={recoCardVariant:"DASHBOARD.RECOMMENDATION.TOP_5.VARIANT",hideSliderDots:"DASHBOARD.RECOMMENDATION.TOP_5.SLIDER_DOTS_DISABLED",moreRecoNavUrl:"DASHBOARD.RECOMMENDATION.TOP_5.WC_NAV_URL_RECO_ALL",showHeader:"DASHBOARD.RECOMMENDATION.TOP_5.SHOW_TOP_HEADER",recoCardSummary:{cardClickEnabled:"DASHBOARD.RECOMMENDATION_DETAILS_ENABLED"},recoCardDetailed:o},c={sliderAriaLabel:"TOP5_RECOMMENDATION_ARIA_LABEL",prevTip:"DASHBOARD.RECOMMENDATION.TOP_5.PREVIOUS_TIP",nextTip:"DASHBOARD.RECOMMENDATION.TOP_5.NEXT_TIP",sliderCount:"DASHBOARD.RECOMMENDATION.TOP_5.SLIDER_COUNT_TEXT",title:"RECOMMENDATIONS.TOP_5.TITLE",btnAllTips:"DASHBOARD.RECOMMENDATION.TOP_5.SEE_ALL_TIPS",noData:"RECOMMENDATIONS.TIPS.EMPTY",recoCardDetailed:s},d={recoDetailsEnabled:"DASHBOARD.RECOMMENDATION_DETAILS_ENABLED",filterAppsList:"recommendationsDropdownAppliancesList",filterAppsListSolar:"recommendationsDropdownAppliancesList.solar",showWholeHomeInFilters:"DASHBOARD.RECOMMENDATIONS.DROPDOWN.SHOW_WHOLE_HOME",showHeader:"DASHBOARD.RECOMMENDATIONS.SHOW_TOP_HEADER",recoCardDetailed:o},u={header:"RECOMMENDATIONS.TIPS.TITLE",btnShowMore:"RECOMMENDATIONS.SHOW_MORE",noData:"RECOMMENDATIONS.TIPS.UNAVAILABLE",filterAppLabel:"RECOMMENDATIONS.FILTER_DESCRIPTION_SINGULAR",filterAppsLabel:"RECOMMENDATIONS.FILTER_DESCRIPTION_PLURAL",filterModal:{header:"RECOMMENDATIONS.APPLIANCE_CATEGORY",btnCancel:"RECOMMENDATIONS.TIPS.DRPOPDOWN.CANCEL",btnApply:"RECOMMENDATIONS.TIPS.DRPOPDOWN.APPLY_FILTERS"},recoCardDetailed:s},g={title:"DASHBOARD.FILTER_MODAL.TITLE",usage:"DASHBOARD.FILTER_MODAL.FILTER.USAGE",viewBy:"DASHBOARD.FILTER_MODAL.FITLER.VIEW_BY",appliance:"DASHBOARD.FILTER_MODAL.FILTER.APPLIANCE",timeScale:"DASHBOARD.FILTER_MODAL.FILTER.TIMESCALE",rate:"DASHBOARD.FILTER_MODAL.FILTER.RATE",display:"DASHBOARD.FILTER_MODAL.FILTER.DISPLAY",btnCancel:"DASHBOARD.FILTER_MODAL.BTN_CANCEL",btnDone:"DASHBOARD.FILTER_MODAL.BTN_DONE",usageViewAppliance:"DASHBOARD.INSIGHT_USAGE_V2_VIEWS.APPLIANCE",usageViewCost:"DASHBOARD.INSIGHT_USAGE_V2_VIEWS.COST",usageViewUsage:"DASHBOARD.INSIGHT_USAGE_V2_VIEWS.USAGE",usageViewApplianceSolar:"DASHBOARD.INSIGHT_USAGE_V2_VIEWS.SOLAR.APPLIANCE",usageViewCostSolar:"DASHBOARD.INSIGHT_USAGE_V2_VIEWS.SOLAR.COST",usageViewUsageSolar:"DASHBOARD.INSIGHT_USAGE_V2_VIEWS.SOLAR.USAGE",usageModeYear:"USAGE.MODE.YEAR",usageModeMonth:"USAGE.MODE.MONTH",usageModeDay:"USAGE.MODE.DAY",usageTouAll:"DASHBOARD.USAGE.TOU.ALL",usageTouOffPeak:"DASHBOARD.USAGE.TOU.OFF_PEAK",usageTouMidPeak:"DASHBOARD.USAGE.TOU.MID_PEAK",usageTouOnPeak:"DASHBOARD.USAGE.TOU.ON_PEAK",usageTier0:"INSIGHTS.USAGE.TIER.0.NAME",usageTier1:"INSIGHTS.USAGE.TIER.1.NAME",usageTier2:"INSIGHTS.USAGE.TIER.2.NAME",graphStyleArea:"USAGE.GRAPH_STYLE.AREA",graphStyleColumn:"USAGE.GRAPH_STYLE.COLUMN",graphTypeBar:"MONTHLY_SUMMARY.CHART.BAR",graphTypePie:"MONTHLY_SUMMARY.CHART.PIE"},p={showHeader:"SIMILAR_HOMES.SHOW_TOP_HEADER",skipOngoingBC:"skipOngoingCycle",consumptionMode:"defaultCostConsumptionModeSHC",dateFormat:"DASHBOARD.INSIGHTS.SHC.DATE_FORMAT",enableApplianceSHC:"enableApplianceSHC",dateFormatChartXAxis:"DASHBOARD.INSIGHTS.SHC_XAXIS.DATE_FORMAT",hideComparison:"DASHBOARD.INSIGHTS.MONTHLY_SUMMARY.HIDE_COMPARISON_DETAILS",recoNavUrl:"SIMILAR_HOMES.WC_NAV_URL_RECO",highlightApplianceToggle:"dashboard.shc.themedApplianceToggle",surveyNavUrl:"SIMILAR_HOMES.WC_NAV_URL_SURVEY",linkUnknownToSurvey:"dashboard.shc.linkUnknownToSurvey"},m={title:"SIMILAR_HOMES.TOP_HEADER",chartLabelYou:"SIMILAR_HOMES.CHART.LABELS.YOU",chartLabelAverage:"SIMILAR_HOMES.CHART.LABELS.AVERAGE",chartLabelEfficient:"SIMILAR_HOMES.CHART.LABELS.EFFICIENT",chartLabelAccessibility:"SIMILAR_HOMES.CHART.ACCESSIBILITY.LABELS",missingIntervalIcon:"DISCLAIMER_ICONS.SHC.ICON1",missingApplianceIcon:"DISCLAIMER_ICONS.SHC.ICON2",missingInterval:"SIMILAR_HOMES.DISCLAIMER_MSG.MISSING_INTERVAL",missingAppliance:"SIMILAR_HOMES.DISCLAIMER_MSG.APPLIANCE_MISSING",accessibilityLabel:"SIMILAR_HOMES.ADA.LABEL",billChargesDisclaimer:"DASHBOARD.BILL_CHARGES_DISCLAIMER",billChargesDisclaimerSHC:"DASHBOARD.SHC.BILL_CHARGES_DISCLAIMER",adaTableTitle:"SIMILAR_HOMES.TOP_HEADER_TABLE",chartHeading:"SIMILAR_HOMES.HEADING",chartDisclaimer:"CHART_DISCLAIMER",chartFooter:"SIMILAR_HOMES.CHART.FOOTER.TEXT",btnTextReco:"SIMILAR_HOMES.CHART.SURVEY_BTN_TEXT",comparisonHeader:"SIMILAR_HOMES.COMPARISON_HEADER",shcComparisonTitle:"SIMILAR_HOMES.NEIGHBOURHOOD_COMPARISON.HEADING",shcComparisonHelp:"SIMILAR_HOMES.NEIGHBOURHOOD_COMPARISON.HELP_TEXT",btnTextSurvey:"SIMILAR_HOMES.UPDATE_HOME_PROFILE_TEXT",filterModal:g},h={dateFormat:"date_format",highestDayDateFormat:"highest_day_date_format",skipOngoingBC:"skipOngoingCycle",defaultChartMode:"DASHBOARD.MONTHLY_SUMMARY.DEFAULT_MODE",defaultChartModeSolar:"DASHBOARD.MONTHLY_SUMMARY.SOLAR.DEFAULT_MODE",defaultChartType:"DASHBOARD.MONTHLY_SUMMARY.DEFAULT_CHART_TYPE",leftToggleUnit:"DASHBOARD.MONTHLY_SUMMARY.MS_LEFT_TOGGLE",rightToggleUnit:"DASHBOARD.MONTHLY_SUMMARY.MS_RIGHT_TOGGLE",surveyNavUrl:"DASHBOARD.MONTHLY_SUMMARY.WC_NAV_URL_SURVEY",faqModal:{navUrl:"CONSUMPTION_BREAKDOWN.WC_NAV_URL_FAQ"}},f={title:"MONTHLY_SUMMARY.TITLE",titleSolar:"MONTHLY_SUMMARY.SOLAR.TITLE",dataNotAvailable:"MONTHLY_SUMMARY.DATA_NOT_AVAILABLE",adaLabel:"MONTHLY_SUMMARY.ADA.LABEL",filterLabel:"COMMON.FILTER",usageLabel:"MONTHLY_SUMMARY.DETAILS.USAGE_HEADER",usageLabelSolar:"MONTHLY_SUMMARY.DETAILS.SOLAR.USAGE_HEADER",billLabel:"MONTHLY_SUMMARY.DETAILS.BILL_HEADER",billLabelSolar:"MONTHLY_SUMMARY.DETAILS.SOLAR.BILL_HEADER",surveyLabel:"MONTHLY_SUMMARY.V2.DETAILS.COMPLETE_SURVEY_TEXT",btnSurvey:"MONTHLY_SUMMARY.V2.HOME_SURVEY_BUTTON_TEXT",loadingLabel:"DASHBOARD.MONTHLY_SUMMARY.LOADING",showingDataLabel:"DASHBOARD.MONTHLY_SUMMARY.DATA.ADA_DESC",totalUsageLabel:"COMMON.TOTAL_TEXT",faqLabel:"MONTHLY_SUMMARY.ITEMISATION_HELPER_TITLE",showMoreAppsLabel:"MONTHLY_SUMMARY.SHOW_MORE_BUTTON_TEXT",chartDisclaimer:"CHART_DISCLAIMER",faqModal:{faqLabel:"MONTHLY_SUMMARY.ITEMISATION_HELPER_TITLE",detail1:"MONTHLY_SUMMARY.ITEMISATION_HELPER_DETAIL_1",detail2:"MONTHLY_SUMMARY.ITEMISATION_HELPER_DETAIL_2",detail3:"MONTHLY_SUMMARY.ITEMISATION_HELPER_DETAIL_3",footer:"MONTHLY_SUMMARY.ITEMISATION_HELPER_FOOTER",btnFaq:"MONTHLY_SUMMARY.ITEMISATION_HELPER_FOOTER_BTN"},filterModal:g},b={enableQueryParams:"dashboard.insights.billAnalysis.enableQueryParams",dateFormat:"date_format",showMoreDetails:"DASHBOARD.INSIGHTS.BILL_ANALYSIS.SHOW_MORE_DETAILS",usageDisplayType:"usageHistoryWidget.displayValue",dateFormatChartXAxis:"DASHBOARD.USAGE_CHART.DATE_FORMAT",showTitle:"HBA.SHOW_TOP_HEADER",weatherUnit:"weather_unit",actionCards:"DASHBOARD.INSIGHTS.BILL_ANALYSIS.FURTHER_ACTIONS.ACTION_CARDS"},A={title:"HBA.TITLE",billAmount:"HBA.DETAILS.BILL_AMOUNT",prevBillHigher:"HBA.BILL_DIFF.HIGHER_THAN_PREVIOUS_BILL",prevBillLower:"HBA.BILL_DIFF.LOWER_THAN_PREVIOUS_BILL",dataNotAvailable:"HBA.BILL_DIFF.INSUFFICIENT_DATA",apiError:"HBA.BILL_DIFF.API_ERROR",ongoingBillingCycle:"HBA.BILL_DIFF.HAS_INCOMPLETE_BILLING_CYCLE",furtherActionsTitle:"HBA.FURTHER_ACTIONS.TITLE",furtherActionsSubTitle:"HBA.FURTHER_ACTIONS.SUB_TITLE",applianceUsage:"HBA.DETAILS.APPLIANCE_USAGE",lessDetails:"HBA.DETAILS.LESS_DETAILS",moreDetails:"HBA.DETAILS.MORE_DETAILS",averageTemp:"HBA.DETAILS.AVG_TEMP",variations:"HBA.DETAILS.VARIATIONS",totals:"HBA.DETAILS.TOTALS",consumption:"HBA.DETAILS.CONSUMPTION",consumptionPerDay:"HBA.DETAILS.CONSUMPTION_PER_DAY",otherDiffs:"HBA.DETAILS.OTHER_KEY_DIFFERENCES",billingCycleDays:"HBA.DETAILS.DAYS_BILLING_CYCLE",consumptionDayLow:"HBA.DETAILS.LOW_CONSUMPTION_DAYS",appDataNotAvailable:"HBA.DETAILS.APPLIANCE_USAGE_UNAVAILABLE",totalDiff:"BILL_ANALYSIS.TOTAL_DIFFERENCE",usageHistory:"HOME.USAGE_HISTORY.TITLE",usageHistoryElectric:"HOME.USAGE_HISTORY.TITLE.ELECTRIC",usageHistoryGas:"HOME.USAGE_HISTORY.TITLE.GAS",usageHistoryWater:"HOME.USAGE_HISTORY.TITLE.WATER",comparedTo:"HBA.BILL_SELECTOR.YOUR_BILL_ANALYSIS_COMPARED_TO",prevBill:"HBA.BILL_SELECTOR.PREVIOUS_BILL",lastYearBill:"HBA.BILL_SELECTOR.SAME_BILL_LAST_YEAR",apiFailed:"HBA.BILL_ANALYSIS.API_ERROR"},S={showHeader:"DASHBOARD.INSIGHTS.USAGE_V2.SHOW_TOP_HEADER",weatherUnit:"weather_unit",dateFormat:"date_format",dateFormatMins:"DATE_FORMATS.DAY.MINUTES.XAXIS",dateFormatYear:"DATE_FORMATS.YEAR.XAXIS",dateFormatMonth:"DATE_FORMATS.MONTH.XAXIS",dateFormatDay:"DATE_FORMATS.DAY.XAXIS",showMinuteUsage:"usageMinutesData",skipOngoingBC:"skipOngoingCycle",showSolarTouRates:"dashboard.showSolarTouRatesInfo",solarPeakInfo:"INSIGHT_USAGE.SOLAR_TOU.DATA",showTemperatureSeries:"showTemperatureSeries",showDemandCharge:"INSIGHTS.USAGE.SHOW_DEMAND_CHARGE.CONSUMPTION_MODE",shcNavUrl:"INSIGHTS.USAGE.WC_NAV_URL_SHC",supportedGranularities:"INSIGHTS.USAGE.V2.SUPPORTED_GRANULARITIES",ctaEnabled:"INSIGHTS.USAGE.CTA_ENABLED"},E={title:"INSIGHTS.USAGE.TOP_HEADER",adaIconLabel:"INSIGHTS.USAGE.ADA.LABEL",apiError:"INSIGHTS.USAGE.API_ERROR",dataLoading:"DASHBOARD.USAGE_INSIGHTS.LOADING",filterLabel:"COMMON.FILTER",applianceTotal:"COMMON.TOTAL_TEXT",applianceTotalSolar:"SOLAR.COMMON.TOTAL_TEXT",peakDemand:"INSIGHTS.USAGE.PEAK_DEMAND",peakDemandYear:"INSIGHTS.USAGE.CHART_DISCLAIMER.DEMAND_CHARGE.YEAR",peakDemandMonth:"INSIGHTS.USAGE.CHART_DISCLAIMER.DEMAND_CHARGE.MONTH",peakDemandDay:"INSIGHTS.USAGE.CHART_DISCLAIMER.DEMAND_CHARGE.DAY",chartTopDisclaimer:{appliance:"INSIGHTS.USAGE.CHART_DISCLAIMER.APPLIANCE",applianceSolar:"INSIGHTS.USAGE.CHART_DISCLAIMER.APPLIANCE.SOLAR",cost:{fixed:{year:"INSIGHTS.USAGE.CHART_DISCLAIMER.FIXED.YEAR",month:"INSIGHTS.USAGE.CHART_DISCLAIMER.FIXED.MONTH",day:"INSIGHTS.USAGE.CHART_DISCLAIMER.FIXED.DAY"},tou:{year:"INSIGHTS.USAGE.CHART_DISCLAIMER.TOU.YEAR",month:"INSIGHTS.USAGE.CHART_DISCLAIMER.TOU.MONTH",day:"INSIGHTS.USAGE.CHART_DISCLAIMER.TOU.DAY"},tier:{year:"INSIGHTS.USAGE.CHART_DISCLAIMER.TIER.YEAR",month:"INSIGHTS.USAGE.CHART_DISCLAIMER.TIER.MONTH",day:"INSIGHTS.USAGE.CHART_DISCLAIMER.TIER.DAY"}},usage:{year:"INSIGHTS.USAGE.CHART_DISCLAIMER.USAGE.YEAR",month:"INSIGHTS.USAGE.CHART_DISCLAIMER.USAGE.MONTH",day:"INSIGHTS.USAGE.CHART_DISCLAIMER.USAGE.DAY",dayGranularity:"INSIGHTS.USAGE.CHART_DISCLAIMER.USAGE.DAY.GRANULARITY"},usageSolar:{year:"INSIGHTS.USAGE.CHART_DISCLAIMER.USAGE.YEAR.SOLAR",month:"INSIGHTS.USAGE.CHART_DISCLAIMER.USAGE.MONTH.SOLAR",day:"INSIGHTS.USAGE.CHART_DISCLAIMER.USAGE.DAY.SOLAR",dayGranularity:"INSIGHTS.USAGE.CHART_DISCLAIMER.USAGE.DAY.SOLAR.GRANULARITY"}},temperatureLabel:"USAGE.TEMPERATURE",otherAppliances:"DASHBOARD.USAGE.REMAINING_CATEGORIES",surveyPrompt:"INSIGHTS.USAGE.SURVEY_PROMPT",demandChargeDisclaimer:"INSIGHTS.USAGE.DEMAND_CHARGE.DISCLAIMER",billChargeDisclaimer:"DASHBOARD.BILL_CHARGES_DISCLAIMER",touDisclaimerYear:"INSIGHTS.USAGE.CHART_TOUDISCLAIMER.YEAR",touDisclaimerMonth:"INSIGHTS.USAGE.CHART_TOUDISCLAIMER.MONTH",touDisclaimerDay:"INSIGHTS.USAGE.CHART_TOUDISCLAIMER.DAY",btnShc:"INSIGHTS.USAGE.SHC_BTN_TEXT",filterModal:g,solarRateInfo:{title:"INSIGHT_USAGE.SOLAR.TOU.INFO.TITLE",subTitle:"INSIGHT_USAGE.SOLAR.TOU.INFO.SUB_TITLE",rateUnit:"INSIGHTS.USAGE.SOLAR.INFO.HOURS_INFO.RATE_UNIT"}},T={showLinkToDashboard:"SURVEY.SHOW_DASHBOARD_LINK",canDeselectAnswer:"enableSurveyDeselect",dashboardNavUrl:"DASHBOARD.SURVEY.WC_NAV_URL_FINISH_SURVEY"},O={title:"SURVEY.HEADER",header:"SURVEY.PAGE_TITLE",surveyProgressLabel:"SURVEY_COMPLETION_PERCENT",apiTimeout:"SURVEY.WIDGET_DISAGG_FAILURE_TEXT",apiSuccess:"SURVEY.WIDGET_DISAGG_SUCCESS_TEXT",btnPrevious:"SURVEY.PREVIOUS",btnNext:"SURVEY.NEXT",btnFinish:"SURVEY.FINISH",finishHeader:"SURVEY.THANK_YOU",finishMessage:"SURVEY.SURVEY_FINISHED_MESSAGE",disaggTimeout:"SURVEY.SURVEY_DISAGG_FAILURE",progressHeader:"SURVEY.DISAGG_RUNNING_1",progressFooter:"SURVEY.DISAGG_RUNNING_2",progressDisclaimer:"SURVEY.DISAGG_RUNNING_DISCLAIMER",btnDashboardLink:"SURVEY.TAKE_ME_TO_MY_DASHBOARD"};a.d(t,"i",function(){return n}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return r}),a.d(t,"l",function(){return l}),a.d(t,"m",function(){return c}),a.d(t,"j",function(){return d}),a.d(t,"k",function(){return u}),a.d(t,"n",function(){return p}),a.d(t,"o",function(){return m}),a.d(t,"g",function(){return h}),a.d(t,"h",function(){return f}),a.d(t,"c",function(){return b}),a.d(t,"d",function(){return A}),a.d(t,"e",function(){return S}),a.d(t,"f",function(){return E}),a.d(t,"p",function(){return T}),a.d(t,"q",function(){return O})},342:function(e,t,a){"use strict";function n(e,t){return function(){return null}}a.d(t,"a",function(){return n})},343:function(e,t,a){"use strict";function n(e){return e&&e.ownerDocument||document}a.d(t,"a",function(){return n})},344:function(e,t,a){"use strict";var n=a(9),i=a(2),r=a.n(i),o=a(25),s=a(117),l=a(118),c=a(67),d=i.forwardRef(function(e,t){var a=e.children,r=e.classes,l=e.className,d=e.color,u=void 0===d?"inherit":d,g=e.component,p=void 0===g?"svg":g,m=e.fontSize,h=void 0===m?"medium":m,f=e.htmlColor,b=e.titleAccess,A=e.viewBox,S=void 0===A?"0 0 24 24":A,E=Object(o.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(p,Object(n.a)({className:Object(s.a)(r.root,l,"inherit"!==u&&r["color".concat(Object(c.a)(u))],"default"!==h&&"medium"!==h&&r["fontSize".concat(Object(c.a)(h))]),focusable:"false",viewBox:S,color:f,"aria-hidden":!b||void 0,role:b?"img":void 0,ref:t},E),a,b?i.createElement("title",null,b):null)});d.muiName="SvgIcon";var u=Object(l.a)(function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},{name:"MuiSvgIcon"})(d);function g(e,t){var a=function(t,a){return r.a.createElement(u,Object(n.a)({ref:a},t),e)};return a.muiName=u.muiName,r.a.memo(r.a.forwardRef(a))}a.d(t,"a",function(){return g})},345:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(2);function i(e){var t=e.controlled,a=e.default,i=(e.name,e.state,n.useRef(void 0!==t).current),r=n.useState(a),o=r[0],s=r[1];return[i?t:o,n.useCallback(function(e){i||s(e)},[])]}},346:function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"a",function(){return l}),a.d(t,"c",function(){return c});var n=a(96),i=a(33),r=a(1),o=a(7);function s(e){var t=e.options&&e.options.series&&e.options.series.length?e.options.series:[],a=e.itemizationData&&t.length>1?t[1].data:[];a=e.isInsights&&t.length?t:Object(o.b)(a);var s=e.itemizationData||e.insightsSHData||!t.length?[]:t[0].data,l=e.isInsights&&!e.monthlyData?e.options.xAxis[0].categories:[],c=e.translations;if(e.insightsSHData)for(var d=["you","efficient","average"],u={you:c["SIMILAR_HOMES.CHART.LABELS.YOU"],efficient:c["SIMILAR_HOMES.CHART.LABELS.EFFICIENT"],average:c["SIMILAR_HOMES.CHART.LABELS.AVERAGE"]},g=0;g<a.length;g++)a[g].name===d[g]&&(a[g].displayName=u[d[g]]);for(var p=0;p<a.length;p++)a[p].name===r.xb.NAME&&(a[p].displayName=c["USAGE.TEMPERATURE"]);if(!a.length&&s.length)for(var m=0;m<e.options.xAxis.categories.length;m++)a.push({name:e.options.xAxis.categories[m],y:s[m]});if(e.monthlyData){var h=[],f=[],b=[],A=[];if(e.itemizationData&&e.itemizationData.itemizationDetails[e.fuelType])f=e.itemizationData.itemizationDetails[e.fuelType];else for(var S=0;S<e.monthlyData.length;S++)b=b.concat(e.monthlyData[S].series[0].data),A=A.concat(e.monthlyData[S].series[1].data);for(var E=f&&f.length?f:b,T=0;T<E.length;T++)h.push({cost:Math.round(Math.max(E[T].cost,1)),usage:Math.round(Math.max(E[T].usage,1)),costLessThanOne:E[T].cost<1||0===E[T].orgCost,usageLessThanOne:E[T].usage<1||0===E[T].orgUsage,appliancesName:Object(n.a)(A.length?A[T].appId:E[T].id||E[T].appId,e.appliancesList)});a=h}if(e.itemizationData&&!e.monthlyData){var O=a.reduce(function(e,t){return e+t.y},0);(a=a.map(function(e){var t=e.name.split(" ")[0];return e.name=e.name.replace(t,"").trim(),e})).push({name:c["COMMON.TOTAL_TEXT"],y:O})}if(e.insightsUsageV2Data){var I=e.insightsUsageV2Data,D=[],v=I.insightUsageV2Controls.view,y=a[0]&&a[0].data?a[0].data.length:0,M=a[0]&&a[0].name!==c["COMMON.TOTAL_TEXT"]&&a[a.length-1].name!==c["COMMON.TOTAL_TEXT"];if(y&&M){var C=I.insightUsageV2Controls.mode,R=I.insightsUsageV2ChartData[C].apiResponse,_=R;C===r.zb.YEAR&&I.insightsUsageV2ChartData.Year&&(_=Object(i.f)(R,e.insightsUsageV2Data.yearOffset));for(var L=0;L<_.length;L++)D.push(_[L][e.usageType]);(v==r.G.APPLIANCE||r.G.COST)&&a.reverse(),a.unshift({name:c["USAGE.ENERGY.CHARGES"],data:D})}else if(a.length&&a[0].name===c["COMMON.TOTAL_TEXT"])for(var N=a[0].data,w=0;w<N.length;w++)N[w]=N[w]&&!Number.isInteger(N[w])?Object(o.V)(N[w],2):N[w];if(I.insightsUsageV2ChartData&&I.insightsUsageV2ChartData.Year&&I.insightsUsageV2ChartData.Year.apiResponse&&I.insightsUsageV2ChartData.Year.apiResponse.length)for(var H=I.insightUsageV2Controls.mode,U=I.insightsUsageV2ChartData[H].apiResponse,x=Object(i.f)(U,e.insightsUsageV2Data.yearOffset),B=0;B<x.length;B++){var G=Object(i.n)(x[B],H,v,c);l[B]=l[B]+G}}if(e.adaUsageHistoryBC&&e.adaUsageHistoryBC.length)for(var k=0;k<a.length;k++)a[k].name=e.adaUsageHistoryBC[k]+" - "+a[k].name;return{tableData:a,xAxisData:l}}function l(e){var t=null,a=[],n=[];return e.insightsUsageV2Data&&e.insightsUsageV2Data.insightsUsageV2ChartData&&e.disclaimerUsage.length>0&&e.disclaimerUsage.length>0&&e.disclaimerUsage.forEach(function(t){a=e.translations[r.F[t].icon]?"".concat(e.translations[r.F[t].icon]," ").concat(e.translations[r.F[t].id]):"",n.push(a)}),e.insightsSHData&&(e.insightsSHData.showDisclaimerMissingInterval||e.insightsSHData.showDisclaimerApplianceMissing)&&(e.insightsSHData.showDisclaimerMissingInterval?t="".concat(e.translations["DISCLAIMER_ICONS.SHC.ICON1"]," ").concat(e.translations["SIMILAR_HOMES.DISCLAIMER_MSG.MISSING_INTERVAL"]):e.insightsSHData.showDisclaimerApplianceMissing&&(t="".concat(e.translations["DISCLAIMER_ICONS.SHC.ICON2"]," ").concat(e.translations["SIMILAR_HOMES.DISCLAIMER_MSG.APPLIANCE_MISSING"]))),{disclaimerStr:t,disclaimerStringsArr:n}}function c(e,t){var a=null;return e.getAttribute("data-shift-focus-to-element")===t&&(a=e),a}},347:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(329),i=(a(2),a(72));function r(){return Object(n.a)()||i.a}},348:function(e,t,a){var n=a(349);"string"===typeof n&&(n=[[e.i,n,""]]);var i={transform:void 0};a(93)(n,i);n.locals&&(e.exports=n.locals)},349:function(e,t,a){(e.exports=a(92)(!1)).push([e.i,".disableBtn {\n  pointer-events: none; }\n\n.disabled {\n  border-color: rgba(var(--background_600), 1);\n  cursor: not-allowed;\n  color: rgba(var(--foreground_400), 1);\n  background-color: transparent; }\n",""])},350:function(e,t,a){"use strict";var n,i,r=a(3),o=a(4),s=a(6),l=a(5),c=a(2),d=a.n(c),u=a(49),g=a(10),p=a(20),m=a(341),h=(n={},Object(g.a)(n,p.a.BILL_PROJECTION,m.a),Object(g.a)(n,p.a.RECOMMENDATION_TOP_TIPS,m.l),Object(g.a)(n,p.a.RECOMMENDATION_TIPS_LIBRARY,m.j),Object(g.a)(n,p.a.INSIGHTS_SIMILAR_HOMES,m.n),Object(g.a)(n,p.a.INSIGHTS_MONTHLY_SUMMARY,m.g),Object(g.a)(n,p.a.HIGH_BILL_ANALYSER,m.c),Object(g.a)(n,p.a.INSIGHTS_USAGE,m.e),Object(g.a)(n,p.a.SURVEY,m.p),n),f=(i={},Object(g.a)(i,p.a.BILL_PROJECTION,m.b),Object(g.a)(i,p.a.RECOMMENDATION_TOP_TIPS,m.m),Object(g.a)(i,p.a.RECOMMENDATION_TIPS_LIBRARY,m.k),Object(g.a)(i,p.a.INSIGHTS_SIMILAR_HOMES,m.o),Object(g.a)(i,p.a.INSIGHTS_MONTHLY_SUMMARY,m.h),Object(g.a)(i,p.a.HIGH_BILL_ANALYSER,m.d),Object(g.a)(i,p.a.INSIGHTS_USAGE,m.f),Object(g.a)(i,p.a.SURVEY,m.q),i),b=a(50),A=a(379);a.d(t,"a",function(){return S}),a.d(t,"b",function(){return E});var S=Object(c.createContext)({}),E=function(e,t){var a=function(a){Object(s.a)(i,a);var n=Object(l.a)(i);function i(t){var a;Object(r.a)(this,i),a=n.call(this,t);var o=Object(A.cloneDeep)(h[e]),s=Object(A.cloneDeep)(f[e]);return a.state={configs:a.resolveObject(o,a.props.configs,a.props.widgetConfigs[e]),strings:a.resolveObject(s,a.props.translations,a.props.widgetTranslations[e])},a}return Object(o.a)(i,[{key:"resolveObject",value:function(e,t,a){for(var n in a=a||{},e)if("object"===typeof e[n])this.resolveObject(e[n],t,a[n]);else{var i=t[e[n]];"string"===typeof i&&("false"===i.toLowerCase()?i=!1:"true"===i.toLowerCase()&&(i=!0)),e[n]=void 0!==a[n]?a[n]:i}return e}},{key:"render",value:function(){var e=this;return d.a.createElement(b.a.Consumer,null,function(a){return d.a.createElement(S.Provider,{value:{widgetConfigs:e.state.configs,widgetStrings:e.state.strings}},d.a.createElement(S.Consumer,null,function(e){return d.a.createElement(t,{globalContext:a,widgetConfigs:e.widgetConfigs,widgetStrings:e.widgetStrings})}))})}}]),i}(d.a.Component);return Object(u.b)(function(e){return{configs:e.configs.data,translations:e.translationsData.data,widgetConfigs:e.configs.widgetConfigs,widgetTranslations:e.translationsData.widgetTranslations}})(a)}},352:function(e,t,a){"use strict";var n=a(3),i=a(4),r=a(8),o=a(6),s=a(5),l=a(2),c=a.n(l),d=a(330),u=a(7),g=a(49),p=a(1),m=a(50),h=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={intervalDetails:""},i.setIntervalDetails=i.setIntervalDetails.bind(Object(r.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.intervalDetails&&this.setIntervalDetails()}},{key:"componentDidUpdate",value:function(e){this.props.intervalDetails&&e.intervalDetails!==this.props.intervalDetails&&this.setIntervalDetails()}},{key:"setIntervalDetails",value:function(){this.setState({intervalDetails:this.props.intervalDetails})}},{key:"render",value:function(){var e=this.props,t=e.widgetName,a=e.enableLeftArrow,n=e.enableRightArrow,i=e.intervalDetails,r=e.handleArrowClick,o=e.direction,s=e.previousBtnLabel,l=e.nextBtnLabel,g=e.translations,m=e.disableAda,h=this.context.runMode===p.Lb,f=!a&&!n;return c.a.createElement(c.a.Fragment,null,i&&this.state.intervalDetails&&c.a.createElement("div",{className:"insights-usage-interval-root ".concat(Object(u.B)()?"insights-usage-interval-color-accessible":""," ").concat(h&&Object(u.L)()?"wc-ada-mode":""),"data-widget-name":t,"data-text-color":"foreground_400",tabIndex:f&&!m?0:-1,"aria-label":g["DASHBOARD.INSIGHT_USAGE_INTERVAL.LABEL"]+this.state.intervalDetails},c.a.createElement("div",{key:"left-".concat(a),className:"insights-usage-arrow-cont",onClick:a?function(){return r(-o)}:null},c.a.createElement("button",{className:"insights-usage-arr usage-arrow-left","aria-label":s||g["DASHBOARD.INSIGHT_USAGE_INTERVAL.PREVIOUS_MONTH"],disabled:!a,tabIndex:"0","data-widget-name":t,"data-bg-color":"primary_500"})),c.a.createElement("div",{className:"insights-usage-range-to-show","data-widget-name":t,"data-text-color":"foreground_400"},c.a.createElement(d.a,{classes:{body1:"range-to-show-text"}},this.state.intervalDetails)),c.a.createElement("div",{key:"right-".concat(n),className:"insights-usage-arrow-cont",onClick:n?function(){return r(o)}:null},c.a.createElement("button",{"aria-label":l||g["DASHBOARD.INSIGHT_USAGE_INTERVAL.NEXT_MONTH"],className:"insights-usage-arr usage-arrow-right",disabled:!n,"data-widget-name":t,tabIndex:"0","data-bg-color":"primary_500"}))))}}]),a}(c.a.Component);h.contextType=m.a;t.a=Object(g.b)(function(e){return{configs:e.configs.data,responsiveness:e.responsiveness}})(h)},354:function(e,t,a){"use strict";function n(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce(function(e,t){return null==t?e:function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];e.apply(this,n),t.apply(this,n)}},function(){})}a.d(t,"a",function(){return n})},356:function(e,t,a){"use strict";var n=a(357),i=a(358);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(2)),o=(0,n(a(359)).default)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o},357:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},358:function(e,t,a){var n=a(396).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r},e.exports.__esModule=!0,e.exports.default=e.exports},359:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=a(387)},360:function(e,t,a){"use strict";function n(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function n(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=this;clearTimeout(t),t=setTimeout(function(){e.apply(o,i)},a)}return n.clear=function(){clearTimeout(t)},n}a.d(t,"a",function(){return n})},361:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(2);function i(e){var t=n.useState(e),a=t[0],i=t[1],r=e||a;return n.useEffect(function(){null==a&&i("mui-".concat(Math.round(1e5*Math.random())))},[a]),r}},364:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(343);function i(e){return Object(n.a)(e).defaultView||window}},365:function(e,t,a){"use strict";function n(e){return function(){return null}}a.d(t,"a",function(){return n})},369:function(e,t,a){"use strict";var n=a(3),i=a(4),r=a(6),o=a(5),s=a(2),l=a.n(s),c=a(352),d=a(14),u=a(7),g=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).configColors=d.a.getColors().colors,i}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.widgetName,n=t.enableLeftArrow,i=t.enableRightArrow,r=t.intervalDetails,o=t.handleArrowClick,s=t.handleModal,d=t.title,g=t.translations,p=t.isShowADABtn,m=t.isMobileView,h=t.previousBtnLabel,f=t.nextBtnLabel,b=t.noDataFound;return l.a.createElement("div",{className:"mobile-filters-wrapper"},l.a.createElement("div",{className:"insights-usage-mobile-header ".concat(Object(u.L)()&&p&&!m?"ada-wrapper":"")},l.a.createElement("div",{className:"insights-usage-interval ".concat(s?"left":"")},l.a.createElement(c.a,{widgetName:a,enableLeftArrow:n,enableRightArrow:i,intervalDetails:r,handleArrowClick:o,direction:1,nextBtnLabel:f,previousBtnLabel:h,translations:g})),Object(u.L)()&&p&&!m?l.a.createElement("button",{className:"accessibility-cta insights-page ada-mobile",disabled:b,"aria-label":g["DASHBOARD.ADA_BTN_TEXT"],onClick:function(){return e.props.handleADA()}},l.a.createElement("span",{className:"bidgely-icon-accessibility"})):"",s&&l.a.createElement("button",{"aria-label":"filter",className:"".concat(m?"insights-usage-filter-ada-mobile":""," insights-usage-filter"),onClick:function(){return s(!0)},disabled:b},l.a.createElement("span",{className:"filter-icon"}))),d&&l.a.createElement("div",{className:"filter-title","data-widget-name":a,"data-text-color":"foreground_400"},d))}}]),a}(l.a.Component);t.a=g},370:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(2);function i(e,t){return n.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},372:function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(2),i=a.n(n),r=a(336),o=a(7),s=a(50),l=a(1),c=a(12),d=a(430),u=a(356),g=a.n(u),p=null;function m(e){var t=e.widgetStrings,a=e.role||"dialog",u=Object(s.d)(),m=e.widgetConfigs.navUrl,h=u.runMode===l.Lb,f=!h||h&&m,b=Object(n.useRef)(null),A=e.disableAda;Object(n.useEffect)(function(){if(b.current&&e.isModal){var t;t=Array.from(b.current.querySelectorAll('button, a, input:not([type="hidden"]), h2, p,  select, textarea, [tabindex]:not([tabindex="-1"])')),(p=t[0]).focus()}},[e.open]);return i.a.createElement("div",{onKeyDown:function(t){if(Object(o.L)()&&e.isModal){if(27===t.keyCode)return t.preventDefault(),e.closeFooterDialog&&e.closeFooterDialog();if(b.current){var a=b.current,n=Array.from(a.querySelectorAll('button, a, h2, p,  input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')),i=n[0],r=n[n.length-1],s=p,l=n.indexOf(p);if(39===t.keyCode||40===t.keyCode||9===t.keyCode&&!t.shiftKey)return t.preventDefault(),s===r?(p=i,i.focus()):(p=n[l+1]).focus();if(37===t.keyCode||38===t.keyCode||9===t.keyCode&&t.shiftKey)return t.preventDefault(),s===i?(p=r,r.focus()):(p=n[l-1]).focus()}}},role:"".concat(a),tabIndex:A?-1:0,"aria-label":t.faqLabel,className:"ms-footer-dialog-info",ref:b},e.isModal&&i.a.createElement(d.a,{size:"small","aria-label":"close",className:"ms-footer-close-icon-btn",onClick:e.closeFooterDialog},i.a.createElement(g.a,{className:"ms-footer-close-icon"})),i.a.createElement("div",{className:"header",id:e.headerId,role:"heading","aria-level":"3"},e.isAccessibility||e.isSolar?i.a.createElement("span",{className:"header-image ada-logo",title:"ADA Logo","aria-hidden":"true"}):"",t.faqLabel),i.a.createElement("div",{className:"details container"},i.a.createElement("div",{className:"details"},t.detail1),i.a.createElement("div",{role:"heading","aria-level":"4",className:"details highlighted"},t.detail2),i.a.createElement("div",{className:"details"},t.detail3)),f&&i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"details footer"},t.footer),i.a.createElement(r.a,{className:"ms-footer-dialog-btn",btnVariant:"outlined",btnText:t.btnFaq,btnBackground:"rgb(".concat(e.configColors["--background_300"],")"),hoverColor:"rgb(".concat(e.configColors["--background_300"],")"),btnTextTransform:"none",btnTextSize:"14px",tabIndex:A?-1:0,btnTextColor:"".concat((Object(o.B)(),"rgb(".concat(e.configColors["--primary_500"],")"))),borderColor:"".concat((Object(o.B)(),"rgb(".concat(e.configColors["--primary_500"],")"))),onClick:function(t){return e.goToFaq(t,h?m:c.e)}})))}},373:function(e,t,a){"use strict";function n(e,t,a,n,i){return null}a.d(t,"a",function(){return n})},374:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(2),i=a.n(n);function r(e){return i.a.createElement("div",{"aria-live":"polite",className:"bg-sr-only"},e.msg)}},377:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var n=a(2),i=a.n(n),r=a(606),o=a(599),s=a(7);function l(e){var t=parseInt(e.selectedAppliance),a=[];e.detectedAppliances.forEach(function(e){a.push(parseInt(e))});var n=e.themedApplianceToggle?"theme-active":"active";return i.a.createElement("div",{className:"appliance-list-container ".concat(Object(s.L)()?"appliance-list-color-accessibility":""),"data-widget-name":e.widgetName,"data-bg-color":"primary_200"},i.a.createElement(r.a,{TabScrollButtonProps:{disabled:!1},variant:"scrollable",scrollButtons:"auto",className:"appliance-list",classes:{scrollButtons:"appliance-arrows",scroller:"scroller",indicator:"indicator"},value:t},a.map(function(a){return i.a.createElement(o.a,{label:e.applianceList[a],className:(t===a?n:"")+" appliance-tab",key:a,value:a,onClick:function(){return e.onToggleAppliance(a)},"data-widget-name":e.widgetName,"data-active-bg-color":"background_300","data-border-color":"background_300"})})))}},378:function(e,t,a){"use strict";var n=a(3),i=a(4),r=a(6),o=a(5),s=a(2),l=a.n(s),c=a(336),d=a(49),u=a(22),g=a(12),p=a(1),m=a(7),h=a(36),f=a(50),b=a(57),A=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"goToSurvey",value:function(e,t){Object(h.a)(this.props.userId,p.V.INSIGHTS,{clicked:"Update Home Profile",tab:p.C.MONTHLY_SUMMARY,widget:p.Pb.INSIGHTS.MONTHLY_SUMMARY,version:p.m.V2}),Object(h.b)("action-click",{pageName:p.V.INSIGHTS,click:"goToSurvey"}),Object(b.f)(t)?window.open(t):Object(b.h)(this.props.history,this.props.location,e,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.monthlySummaryData,n=t.configColors,i=t.isSolar,r=t.responsiveness.isMobileView,o=t.widgetStrings,s=t.widgetConfigs,d=a.monthlySummaryDataArray[a.monthlySummaryActiveIndex],u=s.surveyNavUrl,h=this.context.runMode===p.Lb,f=!h||h&&u,b=d.solarUser,A=i&&b?o.usageLabelSolar:o.usageLabel,S=i&&b?o.billLabelSolar:o.billLabel,E=this.props.widgetStrings.surveyLabel,T=this.props.widgetStrings.btnSurvey;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"ms-details-gimpses","data-widget-name":p.Pb.INSIGHTS.MONTHLY_SUMMARY,"data-text-color":"foreground_400"},l.a.createElement("div",{className:"ms-details-left-cont"},l.a.createElement("div",{className:"ms-details-gimpses-inner","aria-label":"".concat(A,": ").concat(Object(m.f)({usage:i&&b?d.estimatedConsumption:d.consumption,showUsageUnit:!0,fuelType:this.props.session.userProfile.fuelType}))},l.a.createElement("div",null,A),l.a.createElement("strong",{className:"ms-details-gimpses-value ".concat(Object(m.L)()?"ada-focus":"")},Object(m.f)({usage:i&&b?d.estimatedConsumption:d.consumption,showUsageUnit:!0,fuelType:this.props.session.userProfile.fuelType}))),S&&l.a.createElement("div",{className:"ms-details-gimpses-inner left-spacing","aria-label":"".concat(S,": ").concat(i&&b?Object(m.f)({usage:d.consumption,showUsageUnit:!0,fuelType:this.props.session.userProfile.fuelType}):Object(m.c)({cost:d.cost,showCurrency:!0}))},l.a.createElement("div",null,S),l.a.createElement("strong",{className:"ms-details-gimpses-value ".concat(Object(m.L)()?"ada-focus":"")},i&&b?Object(m.f)({usage:d.consumption,showUsageUnit:!0,fuelType:this.props.session.userProfile.fuelType}):Object(m.c)({cost:d.cost,showCurrency:!0})))),f&&l.a.createElement("div",{className:"ms-details-gimpses-inner ms-survey-cont"},l.a.createElement("div",{className:"home-profile-text","data-widget-name":p.Pb.INSIGHTS.MONTHLY_SUMMARY,"data-text-color":"foreground_400"},E),l.a.createElement("div",{"data-widget-name":p.Pb.INSIGHTS.MONTHLY_SUMMARY,"data-bg-color":"background_300","data-text-color":"primary_500","data-border-color":"primary_500","data-hover-color":"background_300"},l.a.createElement(c.a,{btnVariant:"outlined",btnText:T,btnBackground:"rgb(".concat(n["--background_300"],")"),hoverColor:"rgb(".concat(n["--background_300"],")"),btnTextTransform:"none",btnTextSize:r?"12px":"14px",textColor:"".concat((Object(m.B)(),"rgb(".concat(n["--primary_500"],")"))),borderColor:"".concat((Object(m.B)(),"rgb(".concat(n["--primary_500"],")"))),onClick:function(t){return e.goToSurvey(t,h?u:g.m)},isMobileView:r})))))}}]),a}(l.a.Component);A.contextType=f.a;t.a=Object(u.o)(Object(d.b)(function(e){return{session:e.session,monthlySummaryData:e.monthlySummaryData,userId:e.session.userProfile.userId,responsiveness:e.responsiveness}})(A))},381:function(e,t,a){"use strict";var n=a(2),i=a.n(n),r=a(49),o=a(368),s=a.n(o),l=a(394),c=a.n(l),d=a(327),u=a(377),g=a(352),p=a(369),m=a(378),h=a(7),f=a(71);var b=Object(f.withLastLocation)(function(e){return i.a.createElement(i.a.Fragment,null,e.insightsUsageV2Data?"":i.a.createElement("div",{className:"modal-interval ".concat(e.monthlyData?"monthly-heading":"")},e.insightsSHData&&!e.isMobileView?i.a.createElement("div",{id:"ada-modal-heading",role:"heading","aria-level":"2","aria-label":"".concat(e.translations["SIMILAR_HOMES.HEADING"]),className:"modal-sh-heading ".concat(Object(h.L)()?"ada-focus":"")},e.translations["SIMILAR_HOMES.HEADING"]):"",e.monthlyData?i.a.createElement("div",{id:"ada-modal-heading",role:"heading","aria-level":"2","aria-label":"".concat(e.adaModalTitle),className:"modal-heading ".concat(Object(h.L)()?"ada-focus":"")},e.adaModalTitle):"",!e.isMobileView&&i.a.createElement("div",{className:"insights-interval-cont"},i.a.createElement(g.a,{widgetName:e.widgetName,enableLeftArrow:e.enableLeftArrow,enableRightArrow:e.enableRightArrow,intervalDetails:e.intervalDetails,handleArrowClick:e.handleArrowClick,direction:1,translations:e.translations})),e.isMobileView&&i.a.createElement("div",{className:"ms-controller-mobile"},i.a.createElement(p.a,{widgetName:e.widgetName,enableLeftArrow:e.enableLeftArrow,enableRightArrow:e.enableRightArrow,intervalDetails:e.intervalDetails,handleArrowClick:e.handleArrowClick,handleModal:e.handleModal,direction:1,translations:e.translations,configs:e.configs,isMobileView:e.isMobileView})),e.insightsSHData&&e.isMobileView?i.a.createElement("div",{role:"heading","aria-level":"2",className:"modal-sh-heading-mobile"},e.translations["SIMILAR_HOMES.HEADING"]):""),e.insightsSHData?i.a.createElement(i.a.Fragment,null,!e.isMobileView&&i.a.createElement("div",{className:"insights-app-toggle-cont"},i.a.createElement(u.a,{onToggleAppliance:function(t){return e.onSHCRecoChange(t)},detectedAppliances:e.detectedApplianceIds,applianceList:e.applianceList,selectedAppliance:e.selectedAppliance,widgetName:e.widgetName}))):"",e.insightsUsageV2Data?i.a.createElement(i.a.Fragment,null,e.controller):"",e.monthlyData?i.a.createElement("div",{className:"insights-ms-detail"},i.a.createElement(m.a,{widgetConfigs:e.widgetConfigs,widgetStrings:e.widgetStrings,isMobileView:e.isMobileView,isSolar:Object(h.K)(),configColors:e.configColors})):"")}),A=a(508),S=a(603),E=a(509),T=a(510),O=a(511),I=a(512),D=a(513),v=a(119),y=a(346),M=a(1);function C(e){var t=e.configs&&(e.configs.data?e.configs.data:e.configs),a=e.usageType===M.Hb.USAGE||e.mode===M.Hb.USAGE?t.electric_energy_unit:"",n=e.translations,r=Object(y.b)(e),o=r.tableData,s=r.xAxisData,l=e.responsiveness.isMobileView,c=e.adaUsageHistoryBC&&e.adaUsageHistoryBC.length,d=function(t,n,i){return n=n||0,t.name===M.xb.NAME?" ".concat(n," ").concat(i.weather_unit):a?Object(h.f)({usage:n,fuelType:e.fuelType,showUsageUnit:!0}):Object(h.c)({cost:n,fuelType:e.fuelType,showCurrency:!0,round:!0})},u=function(t){var a=Object(h.f)({usage:t.usage,fuelType:e.fuelType,showUsageUnit:!0}),i=Object(h.c)({cost:t.cost,fuelType:e.fuelType,showCurrency:!0,round:!0});return"".concat(t.appliancesName," ").concat(n["RATEPLANS.COSTS"]," ").concat(i,", usage ").concat(a)};return o.forEach(function(e){e.dataName=[],e.data&&e.data.forEach(function(a,n){var i=d(e,a,t);e.dataName[n]=i})}),i.a.createElement(i.a.Fragment,null,o.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(A.a,{component:S.a,tabindex:0,className:e.isInsights?"insights-table-wrapper":"","aria-label":e.ariaLabel},i.a.createElement(E.a,{stickyHeader:!0,className:"chart-table",role:"table"},s.length?i.a.createElement(T.a,null,i.a.createElement(O.a,null,i.a.createElement("td",{className:"series-name sticky-title empty-cell ".concat(l?"series-name-ada-mobile":"")}),s.map(function(e,t){return i.a.createElement(I.a,{key:"".concat(n.CHART_TABLE_TITLE_ARIA_LABEL," ").concat(t),className:"series-value series-head-value"},e)}))):"",i.a.createElement(D.a,null,o.map(function(r,o){return i.a.createElement(i.a.Fragment,{key:"".concat(n["DASHBOARD.LABEL.NEXT"]," ").concat(o)},!(r.hasOwnProperty("showInLegend")&&!r.showInLegend)&&(!r.hasOwnProperty("visible")||r.visible)&&i.a.createElement(O.a,null,r.name||r.displayName?i.a.createElement(I.a,{scope:"row",className:"series-name sticky-title ".concat(r.name!==n["COMMON.TOTAL_TEXT"]||r.color?"":"total"," ").concat(l?"series-name-ada-mobile":"")},r.color?i.a.createElement("span",{className:"series-color",style:{backgroundColor:r.color}}):"",r.displayName?r.displayName:r.name?r.name:""):"",r.data?i.a.createElement(i.a.Fragment,null,r.data.map(function(e,a){return i.a.createElement(I.a,{"aria-label":"".concat(r.name,", ").concat(s[a],","),className:"series-value ".concat(Object(h.L)()?"ada-focus-wo-offset":""),key:"".concat(n["DASHBOARD.LABEL.PREVIOUS"]," ").concat(a)},d(r,e,t))})):"",r.data?"":i.a.createElement(i.a.Fragment,null,r.y||c?i.a.createElement(I.a,{className:"series-value"},a?i.a.createElement(i.a.Fragment,null,r.y," ",a," "):i.a.createElement(i.a.Fragment,null," ",0===r.y&&e.adaUsageHistoryBC&&e.adaUsageHistoryBC.length?i.a.createElement(i.a.Fragment,null," ",M.S," "):i.a.createElement(i.a.Fragment,null," ",Object(h.c)({cost:r.y?r.y:0,round:!0,showCurrency:!0})," "))):""),!r.data&&r.appliancesName?i.a.createElement(i.a.Fragment,null,r.appliancesName?i.a.createElement(I.a,{scope:"row",className:"series-name ".concat(Object(h.L)()?"ada-focus-wo-offset":"")},i.a.createElement("span",{"aria-label":u(r)},r.appliancesName)):"",r.cost?i.a.createElement(I.a,{className:"series-value"},Object(h.c)({cost:r.cost,showCurrency:!0,lessThanOne:r.costLessThanOne})):i.a.createElement(I.a,{className:"series-value"}),r.usage?i.a.createElement(I.a,{className:"series-value"},Object(h.f)({usage:r.usage,showUsageUnit:!0,fuelType:e.fuelType,lessThanOne:r.usageLessThanOne})):i.a.createElement(I.a,{className:"series-value"})):"")," ")}))))):i.a.createElement(v.a,null))}var R=a(336),_=a(372);var L=function(e){var t=e.configColors;return i.a.createElement(i.a.Fragment,null,e.monthlyData?i.a.createElement("div",{className:"table-ms-faq"},i.a.createElement(_.a,{widgetConfigs:e.widgetConfigs.faqModal,widgetStrings:e.widgetStrings.faqModal,translationsData:e.translations,configs:e.configs,configColors:t,goToFaq:e.goToFaq,isAccessibility:!0,role:"region"})):i.a.createElement("div",{className:"itemization-disclaimer"},e.itemizationData.itemizationDisclaimer?i.a.createElement("div",{className:"disclaimer-text"},e.itemizationData.itemizationDisclaimer):"",i.a.createElement("div",{className:"disclaimer-btn"},i.a.createElement(R.a,{btnVariant:"outlined",btnText:e.translations["CONSUMPTION_BREAKDOWN.BUTTON"],disableRipple:!0,btnBackground:"rgb(".concat(t["--background_300"],")"),borderColor:"".concat((Object(h.B)(),"rgb(".concat(t["--primary_500"],")"))),textColor:"".concat((Object(h.B)(),"rgb(".concat(t["--primary_500"],")"))),hoverColor:"rgb(".concat(t["--background_300"],")"),btnTextTransform:"none",onClick:function(){return e.goToSurvey()}}))))};var N=function(e){var t=e.isInsights&&!e.monthlyData?"insights":e.monthlyData?"ms-insights-table":"",a=e.insightsSHData&&e.insightsSHData.apiErrorMessage&&e.options.series&&e.options.series.length?e.errorMessage:"",n=!1;!e.monthlyData||e.itemizationData.itemizationDetails&&e.itemizationData.itemizationDetails[e.fuelType]||e.monthlySummaryData.fetchingData||(n=!0);var r=Object(y.a)(e),o=r.disclaimerStr,s=r.disclaimerStringsArr,l=e.options.series;return i.a.createElement(i.a.Fragment,null,e.dataUnavailable||!l||!l.length||a||n?i.a.createElement("div",{className:"no-table-data ".concat(n?"ms-chart-error":"")},e.errorMessage):i.a.createElement("div",{className:"consumption-chart-table ".concat(t)},i.a.createElement(C,e)),e.disclaimer||o?i.a.createElement("div",{className:"chart-disclaimer"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.disclaimer?e.disclaimer:o}})):"",s.length>0?i.a.createElement(i.a.Fragment,null,s.map(function(e,t){return i.a.createElement("div",{className:"chart-disclaimer insights-usage",key:t},e)})):"",e.itemizationData?i.a.createElement(L,e):"")},w=a(14),H=a(374),U=Object(d.a)(function(){return{modal:{boxShadow:"0px 1px 3px rgb(0 0 0 / 25%)"}}});function x(e){var t=w.a.getColors().colors,a=U(t),n=!!e.isModalTableEnabled,r=null,o=function(){e.handleADA(),e.currentRef&&e.currentRef.focus()},s=i.a.useRef("focusOnElement"),l=i.a.useRef("focusOnElement");i.a.useEffect(function(){if(Object(h.L)()&&s.current){var e=Object(y.c)(s.current,"ada-modal");e&&e.querySelector(".ada-hidden-chart").focus()}}),i.a.useEffect(function(){if(Object(h.L)()&&s.current&&s.current.offsetParent&&n){var e=Array.from(s.current.querySelectorAll(M.r));(r=e[0]).focus()}},n);var c=e.translations&&e.translations.data?e.translations.data:e.translations,d={title:e.adaModalTitle,interval:e.intervalDetails?e.intervalDetails:"",mode:e.insightsUsageV2Data&&e.insightsUsageV2Data.insightUsageV2Controls&&e.insightsUsageV2Data.insightUsageV2Controls.mode,view:e.insightsUsageV2Data&&e.insightsUsageV2Data.insightUsageV2Controls&&e.insightsUsageV2Data.insightUsageV2Controls.view,applianceName:e.insightsSHData&&e.insightsSHData.selectedAppliance&&e.applianceList&&e.applianceList[e.insightsSHData.selectedAppliance]},u="".concat(d.title,", Interval: ").concat(d.interval," ").concat(d.mode?", Mode: ".concat(d.mode):""," ").concat(d.view?", View Type: ".concat(d.view):""," ").concat(d.applianceName?", Category: ".concat(d.applianceName):""),g=e.responsiveness.isMobileView&&e.widgetName===M.Pb.INSIGHTS.MONTHLY_SUMMARY?"ada-chart-modal-ms-mobile":"";return i.a.createElement(i.a.Fragment,null,n&&i.a.createElement("div",{onKeyDown:function(e){return function(e){if(27===e.keyCode)return e.preventDefault(),o();if(Object(h.L)()){var t=Array.from(s.current.querySelectorAll(M.r)),a=t.indexOf(r),i=t.filter(function(e){return!e.disabled&&-1!==e.tabIndex});if(s.current&&n&&9===e.keyCode&&!e.shiftKey){if(e.target===t[t.length-1])return e.preventDefault(),(r=r===t[t.length-1]?i[0]:t[a+1])&&r.focus();r=i[i.indexOf(e.target)+1]}if(s.current&&n&&9===e.keyCode&&e.shiftKey&&(e.target===t[0]||0===i.indexOf(e.target)))return e.preventDefault(),(r=t[t.length-1])&&r.focus()}}(e)},className:"ada-modal-container ada-chart-modal ".concat(g),tabIndex:"0",role:"dialog",ref:s,"data-shift-focus-to-element":"ada-modal","aria-modal":"true"},i.a.createElement(H.a,{msg:e.liveAnnouncerMsg}),i.a.createElement("div",{className:"".concat(a.modal," ada-wrapper ").concat(e.isInsights?"insights":"")},i.a.createElement("span",{className:"icon"},i.a.createElement("a",{tabIndex:"0",onKeyDown:function(e){return 32===e.keyCode&&o()},"aria-label":"".concat(c["DASHBOARD.LABEL.CLOSE"]),href:"javascript:void(0)",className:"bidgely-icon-cancel-circle",onClick:function(){return o()}})),i.a.createElement("div",{className:"ada-hidden-chart"}),i.a.createElement("div",{className:"chart-modal-wrapper ".concat(e.isInsights?"insights":"")},e.adaModalTitle&&!e.monthlyData?i.a.createElement("div",{id:"ada-modal-heading","aria-label":"".concat(e.adaModalTitle),className:"modal-heading ".concat(Object(h.L)()?"ada-focus":""),role:"heading","aria-level":"2"},e.adaModalTitle):"",e.adaModalSubtitle?i.a.createElement("div",{className:"modal-subheading"},e.adaModalSubtitle):"",e.isInsights?i.a.createElement(b,e):"",i.a.createElement("div",{className:"table-conatiner",ref:l,onKeyDown:function(e){return function(e){if(Object(h.L)()&&l.current&&s.current){var t=l.current,a=Array.from(t.querySelectorAll(M.r)),n=Array.from(s.current.querySelectorAll(M.r)),i=a[0],o=a[a.length-1],c=n[n.length-1],d=r,u=a.indexOf(r);if(s.current&&9===e.keyCode&&e.shiftKey&&e.target===i)return;if(39===e.keyCode||40===e.keyCode||9===e.keyCode&&!e.shiftKey)return e.preventDefault(),d===o?(r=c,c.focus()):(r=a[u+1])&&r.focus();if(37===e.keyCode||38===e.keyCode||9===e.keyCode&&e.shiftKey)return e.preventDefault(),e.target===a[a.length-1]?(r=n[n.indexOf(r)-2])&&r.focus():(r=a[u-1])&&r.focus()}}(e)}},e.isChartLoading&&i.a.createElement("div",{className:"insight-content-loading"},i.a.createElement(v.a,null)),e.chartDisclaimer?i.a.createElement("div",{className:"chart-disclaimer bill-chargers"},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(e.chartDisclaimer," ").concat(e.billChargesDisclaimer)}})):"",i.a.createElement("div",{className:"".concat(e.monthlyData?"ms-table-wrapper":"")},i.a.createElement(N,Object.assign({},e,{translations:c,configColors:t,ariaLabel:u})))))),i.a.createElement("div",{onClick:o,className:"ada-mask"})))}var B=a(422),G=a.n(B);a.d(t,"b",function(){return k}),a(423)(s.a),Object(h.L)()&&G()(s.a);var k=function(e){return{chart:{style:{fontFamily:(e||Object(h.v)())+', "Helvetica Neue", Arial, sans-serif'}},title:{text:""},subtitle:{text:""},credits:{enabled:!1}}},P=i.a.forwardRef(function(e){if(s.a.theme=k(e.fontFamily),Object(h.L)()){var t=w.a.getColors().colors;s.a.theme.accessibility={keyboardNavigation:{focusBorder:{style:{color:"rgb(".concat(t["--highlight_focus_outline"],")")}}}}}return s.a.setOptions(s.a.theme),i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,Object.assign({highcharts:s.a},e)),e.isModalTableEnabled&&!e.excludeModal?i.a.createElement(x,e):"")});P.displayName="BCLHighchart";t.a=Object(r.b)(function(e){return{applianceList:e.appliances.appliancesList,responsiveness:e.responsiveness}})(P)},387:function(e,t,a){"use strict";a.r(t);var n=a(67);a.d(t,"capitalize",function(){return n.a});var i=a(354);a.d(t,"createChainedFunction",function(){return i.a});var r=a(344);a.d(t,"createSvgIcon",function(){return r.a});var o=a(360);a.d(t,"debounce",function(){return o.a});var s=a(342);a.d(t,"deprecatedPropType",function(){return s.a});var l=a(370);a.d(t,"isMuiElement",function(){return l.a});var c=a(343);a.d(t,"ownerDocument",function(){return c.a});var d=a(364);a.d(t,"ownerWindow",function(){return d.a});var u=a(365);a.d(t,"requirePropFactory",function(){return u.a});var g=a(351);a.d(t,"setRef",function(){return g.a});var p=a(373);a.d(t,"unsupportedProp",function(){return p.a});var m=a(345);a.d(t,"useControlled",function(){return m.a});var h=a(353);a.d(t,"useEventCallback",function(){return h.a});var f=a(338);a.d(t,"useForkRef",function(){return f.a});var b=a(361);a.d(t,"unstable_useId",function(){return b.a});var A=a(367);a.d(t,"useIsFocusVisible",function(){return A.a})},396:function(e,t){function a(t){return e.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},398:function(e,t,a){"use strict";var n=a(9),i=a(25),r=a(2),o=a(117),s=a(603),l=a(118),c=r.forwardRef(function(e,t){var a=e.classes,l=e.className,c=e.raised,d=void 0!==c&&c,u=Object(i.a)(e,["classes","className","raised"]);return r.createElement(s.a,Object(n.a)({className:Object(o.a)(a.root,l),elevation:d?8:1,ref:t},u))});t.a=Object(l.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(c)},421:function(e,t,a){"use strict";var n=a(0),i=a(3),r=a(4),o=a(8),s=a(6),l=a(5),c=a(2),d=a.n(c),u=a(603),g=a(9),p=a(25),m=a(117),h=a(118),f=c.forwardRef(function(e,t){var a=e.disableSpacing,n=void 0!==a&&a,i=e.classes,r=e.className,o=Object(p.a)(e,["disableSpacing","classes","className"]);return c.createElement("div",Object(g.a)({className:Object(m.a)(i.root,r,!n&&i.spacing),ref:t},o))}),b=Object(h.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(f),A=a(600),S=c.forwardRef(function(e,t){var a=e.classes,n=e.className,i=e.dividers,r=void 0!==i&&i,o=Object(p.a)(e,["classes","className","dividers"]);return c.createElement("div",Object(g.a)({className:Object(m.a)(a.root,n,r&&a.dividers),ref:t},o))}),E=Object(h.a)(function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},{name:"MuiDialogContent"})(S),T=a(398),O=a(330),I=(a(121),a(67)),D=a(69);A.a.styles;var v=c.forwardRef(function(e,t){var a=e.children,n=e.classes,i=e.className,r=e.color,o=void 0===r?"default":r,s=e.component,l=void 0===s?"div":s,d=e.disabled,u=void 0!==d&&d,h=e.disableElevation,f=void 0!==h&&h,b=e.disableFocusRipple,A=void 0!==b&&b,S=e.disableRipple,E=void 0!==S&&S,T=e.fullWidth,O=void 0!==T&&T,D=e.orientation,v=void 0===D?"horizontal":D,y=e.size,M=void 0===y?"medium":y,C=e.variant,R=void 0===C?"outlined":C,_=Object(p.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),L=Object(m.a)(n.grouped,n["grouped".concat(Object(I.a)(v))],n["grouped".concat(Object(I.a)(R))],n["grouped".concat(Object(I.a)(R)).concat(Object(I.a)(v))],n["grouped".concat(Object(I.a)(R)).concat("default"!==o?Object(I.a)(o):"")],u&&n.disabled);return c.createElement(l,Object(g.a)({role:"group",className:Object(m.a)(n.root,i,O&&n.fullWidth,f&&n.disableElevation,"contained"===R&&n.contained,"vertical"===v&&n.vertical),ref:t},_),c.Children.map(a,function(e){return c.isValidElement(e)?c.cloneElement(e,{className:Object(m.a)(L,e.props.className),color:e.props.color||o,disabled:e.props.disabled||u,disableElevation:e.props.disableElevation||f,disableFocusRipple:A,disableRipple:E,fullWidth:O,size:e.props.size||M,variant:e.props.variant||R}):null}))}),y=Object(h.a)(function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:Object(D.a)(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:Object(D.a)(e.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:e.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:e.palette.secondary.dark}}}},{name:"MuiButtonGroup"})(v),M=a(336),C=a(14),R=a(1),_=a(7),L=a(346),N=null,w=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var n;Object(i.a)(this,a),(n=t.call(this,e)).handleKeyPress=function(e){if(27===e.keyCode)return e.preventDefault(),void n.onClose();if(Object(_.L)()&&n.refs.focusOnElement&&n.refs.focusOnElement.offsetParent){var t=n.refs.focusOnElement.offsetParent,a=Array.from(t.querySelectorAll("a[href], button:not([disabled]), textarea, input, select, h2")),i=a[0],r=a[a.length-1],o=N,s=a.indexOf(o);if(39===e.keyCode||40===e.keyCode||9===e.keyCode&&!e.shiftKey)return e.preventDefault(),o===r?(N=i).focus():(N=a[s+1]).focus();if(37===e.keyCode||38===e.keyCode||9===e.keyCode&&e.shiftKey)return e.preventDefault(),o===i?(N=r).focus():(N=a[s-1]).focus()}};var r=e.controls,s=r.view,l=r.graphStyle,c=r.selectedAppliance,d=r.mode,u=r.timeOfUse,g=r.chartType,p=r.activeMode;return n.state={open:e.open,graphStyle:l,view:s,mode:d,timeOfUse:u,selectedAppliance:c,chartType:g,activeMode:p||void 0,currentElement:null},n.onClose=n.onClose.bind(Object(o.a)(n)),n}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){if(Object(_.L)()){if(this.refs.focusOnElement&&this.refs.focusOnElement.offsetParent&&-1===Number(this.refs.focusOnElement.offsetParent.getAttribute("tabindex"))){var t=this.refs.focusOnElement.offsetParent;t.setAttribute("tabindex",""),t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true");var a=Object(L.c)(this.refs.focusOnElement,"filters");a&&a.querySelector(".insights-hidden-focus").focus(),this.refs.focusOnFirstEle.focus()}var n=e.open,i=this.props.open;if(n!==i&&i){var r=this.refs.focusOnElement.offsetParent,o=Array.from(r.querySelectorAll("a[href], button:not([disabled]), textarea, input, select, h2"));(N=o[0]).focus()}}var s=this.props.controls;e.controls.chartType!==s.chartType&&this.setState({chartType:s.chartType}),e.controls.view!==s.view&&this.setState({view:s.view}),e.controls.mode!==s.mode&&this.setState({mode:s.mode,timeOfUse:s.mode!==R.zb.YEAR&&s.timeOfUse===R.X.TYPE?R.Ab.ALL.type:s.timeOfUse}),e.controls.activeMode!==s.activeMode&&this.setState({activeMode:s.activeMode}),e.controls.selectedAppliance!==s.selectedAppliance&&this.setState({selectedAppliance:s.selectedAppliance})}},{key:"onViewChange",value:function(e){if(e!==this.state.view){var t=this.state.mode;e===R.G.APPLIANCE&&(t=R.zb.YEAR);var a=this.props.insightsUsageV2Data.insightsUsageV2ChartData[t],n=a.apiResponse,i=this.props.skipOngoingBC&&(e===R.G.USAGE||this.state.view===R.G.USAGE);n&&!i||this.props.fetchInsightsUsageData(t,e,a.timeRange.start,a.timeRange.end),this.setState({view:e,mode:t})}}},{key:"onGraphStyleChange",value:function(e){this.setState({graphStyle:e})}},{key:"onModeChange",value:function(e){var t=this.props.controls;this.setState({mode:e,timeOfUse:e!==R.zb.YEAR&&t.timeOfUse===R.X.TYPE?R.Ab.ALL.type:t.timeOfUse})}},{key:"onTOUChange",value:function(e){this.setState({timeOfUse:e})}},{key:"onToggleAppliance",value:function(e){this.setState({selectedAppliance:e})}},{key:"onChartTypeChange",value:function(e){this.setState({chartType:e})}},{key:"onActiveModeChange",value:function(e){this.setState({activeMode:e})}},{key:"resetStatus",value:function(){var e=this.props.controls;this.setState(Object(n.a)(Object(n.a)({},e),{},{activeMode:e.activeMode?e.activeMode:void 0}))}},{key:"onClose",value:function(){this.resetStatus(),this.props.handleModal(!1),this.props.shiftFocusBack&&this.props.shiftFocusBack(),this.props.filterRef&&this.props.filterRef.focus()}},{key:"getUsageViewLabel",value:function(e,t){if(t)switch(e){case R.G.APPLIANCE:return this.props.widgetStrings.usageViewApplianceSolar;case R.G.USAGE:return this.props.widgetStrings.usageViewUsageSolar;case R.G.COST:return this.props.widgetStrings.usageViewCostSolar}else switch(e){case R.G.APPLIANCE:return this.props.widgetStrings.usageViewAppliance;case R.G.USAGE:return this.props.widgetStrings.usageViewUsage;case R.G.COST:return this.props.widgetStrings.usageViewCost}}},{key:"getUsageModeLabel",value:function(e){switch(e){case R.zb.YEAR.toUpperCase():return this.props.widgetStrings.usageModeYear;case R.zb.MONTH.toUpperCase():return this.props.widgetStrings.usageModeMonth;case R.zb.DAY.toUpperCase():return this.props.widgetStrings.usageModeDay}}},{key:"getTouLabel",value:function(e){switch(e){case R.Ab.ALL.type:return this.props.widgetStrings.usageTouAll;case R.Ab.OFF_PEAK.type:return this.props.widgetStrings.usageTouOffPeak;case R.Ab.MID_PEAK.type:return this.props.widgetStrings.usageTouMidPeak;case R.Ab.ON_PEAK.type:return this.props.widgetStrings.usageTouOnPeak}}},{key:"getGraphStyleLabel",value:function(e){switch(e){case R.y.AREA.toUpperCase():return this.props.widgetStrings.graphStyleArea;case R.y.COLUMN.toUpperCase():return this.props.widgetStrings.graphStyleColumn}}},{key:"getGraphTypeLabel",value:function(e){switch(e){case R.Q.BAR.toUpperCase():return this.props.widgetStrings.graphTypeBar;case R.Q.PIE.toUpperCase():return this.props.widgetStrings.graphTypePie}}},{key:"render",value:function(){var e=this,t=this.props,a=t.enableApplianceSelection,n=t.enableGraphStyleSelection,i=t.enableModeSelection,r=t.enableRateSelection,o=t.enableDemandChargeSelection,s=t.getDetectedAppliances,l=t.detectedAppliances,c=t.open,g=t.isModalTableEnabled,p=t.allowedViews,m=t.allowedModes,h=t.applianceList,f=t.onUpdateFilter,S=t.widgetName,I=t.widgetStrings,D=t.isMobileView,v=t.isXLMobileView,L=t.configData,N=t.isSolar,w=L.enableRateFilter,H="boolean"===typeof a?a:a&&a(this.state.view),U=s?s(this.state.mode):l||[],x=C.a.getColors().colors,B=S===R.Pb.INSIGHTS.MONTHLY_SUMMARY,G=D&&!v||g&&D,k=L["DASHBOARD.MONTHLY_SUMMARY.MS_LEFT_TOGGLE"],P=L["DASHBOARD.MONTHLY_SUMMARY.MS_RIGHT_TOGGLE"];return c&&d.a.createElement("div",{className:"insights-dialog"},d.a.createElement(u.a,{className:"insights-dialog-window insights-usage-filter-dialog ".concat(D&&!v?"mobile":""),classes:{root:"".concat(D&&!v?"insights-usage-filter-dialog-root":"")}},d.a.createElement("div",{onKeyDown:this.handleKeyPress,role:"dialog",tabIndex:"0","aria-label":"".concat(I.title),className:"insights-filter-tab",ref:"focusOnElement","data-shift-focus-to-element":"filters"},d.a.createElement(b,{classes:{root:"insights-usage-filter-header ".concat(Object(_.B)()?"insights-usage-filter-header-color-accessible":"")}},d.a.createElement("div",{className:"insights-hidden-focus",tabIndex:"0"}),d.a.createElement(A.a,{classes:{root:"insights-usage-filter-header-button ada-focus"},onClick:this.onClose,"aria-label":I.btnCancel,ref:"focusOnFirstEle"},I.btnCancel),d.a.createElement("h2",{tabIndex:"-1","aria-labelledby":I.title,className:"insights-usage-filter-header-label ada-focus"},I.title),d.a.createElement(A.a,{classes:{root:"insights-usage-filter-header-button ada-focus"},onClick:function(){return f(e.state,!0)},"aria-label":I.btnDone},I.btnDone)),d.a.createElement(E,{classes:{root:"insights-usage-filter-content ".concat(Object(_.B)()?"color-accessibility":"")}},G&&p&&p.length>1&&d.a.createElement(T.a,{classes:{root:"insights-filter-card-view"}},d.a.createElement(O.a,{tabIndex:"0","aria-label":I.viewBy,classes:{body1:"view-by"}},I.viewBy),d.a.createElement(y,{className:"insights-button-group",size:"large","data-widget-name":S,"data-bg-color":"primary_200",role:"radiogroup",tabIndex:"0","aria-label":I.viewBy},p.map(function(t){return d.a.createElement("div",{className:"insights-view-button","data-widget-name":S,"data-active-bg-color":"background_700","data-active-color":"background_300","data-text-color":"foreground_400",key:t},d.a.createElement(M.a,{key:t,isActive:e.state.view===t,btnText:e.getUsageViewLabel(t,N),btnTextTransform:"none",textColor:"rgb(".concat(x["--foreground_500"],")"),borderColor:"transparent",activeColor:"rgb(".concat(x["--primary_500"],")"),activeTextColor:"rgb(".concat(x["--foreground_300"],")"),onClick:function(){return e.onViewChange(t)},hoverColor:"rgb(".concat(x["--background_300"],", 0.7)"),ariaChecked:e.state.view===t,role:"radio"}))}))),G&&H&&U.length&&d.a.createElement(T.a,{classes:{root:"insights-filter-card-view"}},d.a.createElement(O.a,{id:"appliance-toggle",tabIndex:"0","aria-label":I.appliance,classes:{body1:"view-by"}},I.appliance),d.a.createElement("div",{className:"insights-filter-appliance-list","aria-labelledby":"appliance-toggle"},U.map(function(t){return d.a.createElement(A.a,{classes:{root:"insights-filter-appliance\n                          ".concat(parseInt(t)===parseInt(e.state.selectedAppliance)?Object(_.L)()?"ada-active":"active":"")},key:t,onClick:function(){return e.onToggleAppliance(t)},"aria-checked":parseInt(t)===parseInt(e.state.selectedAppliance),role:"radio"},h[t])}))),G&&i&&i(this.state.view)&&m.length>1&&d.a.createElement(T.a,{classes:{root:"insights-filter-card-view"}},d.a.createElement(O.a,{tabIndex:"0","aria-label":I.timeScale,classes:{body1:"view-by"}},I.timeScale),d.a.createElement(y,{size:"large",className:"insights-button-group mode","data-widget-name":S,"data-bg-color":"primary_200",role:"radiogroup",tabIndex:"0","aria-label":I.timeScale},m.map(function(t){return d.a.createElement("div",{className:"insights-view-button","data-widget-name":S,"data-active-bg-color":"background_700","data-active-color":"background_300","data-text-color":"foreground_400",key:t},d.a.createElement(M.a,{key:t,isActive:e.state.mode===R.zb[t],btnText:e.getUsageModeLabel(t),textColor:"rgb(".concat(x["--foreground_500"],")"),borderColor:"transparent",activeColor:"rgb(".concat(x["--primary_500"],")"),activeTextColor:"rgb(".concat(x["--foreground_300"],")"),onClick:function(){return e.onModeChange(R.zb[t])},btnTextTransform:"none",hoverColor:"rgb(".concat(x["--background_300"],", 0.7)"),ariaChecked:e.state.mode===R.zb[t],role:"radio"}))}))),w&&(r&&r(this.state.view)||o&&o(this.state.view))&&d.a.createElement(T.a,{classes:{root:"insights-filter-card-view"}},d.a.createElement(O.a,{tabIndex:"0","aria-label":I.rate,classes:{body1:"view-by"}},I.rate),d.a.createElement(y,{size:"large",className:"insights-button-group rate-view","data-widget-name":S,"data-bg-color":"primary_200",role:"radiogroup",tabIndex:"0","aria-label":I.rate},r&&r(this.state.view)&&Object.keys(R.Ab).map(function(t){return d.a.createElement("div",{className:"insights-view-button wrap","data-widget-name":S,"data-active-bg-color":"background_700","data-active-color":"background_300","data-text-color":"foreground_400",key:t},d.a.createElement(M.a,{key:t,isActive:e.state.timeOfUse===R.Ab[t].type,btnText:e.getTouLabel(t),textColor:"rgb(".concat(x["--foreground_500"],")"),borderColor:"transparent",activeColor:"rgb(".concat(x["--primary_500"],")"),activeTextColor:"rgb(".concat(x["--foreground_300"],")"),onClick:function(){return e.onTOUChange(R.Ab[t].type)},btnTextTransform:"none",hoverColor:"rgb(".concat(x["--background_300"],", 0.7)"),role:"radio"}))}),o&&this.state.mode===R.zb.YEAR&&o(this.state.view)&&d.a.createElement("div",{className:"insights-view-button wrap","data-widget-name":S,"data-active-bg-color":"background_700","data-active-color":"background_300","data-text-color":"foreground_400",key:R.X.TYPE},d.a.createElement(M.a,{key:R.X.TYPE,isActive:this.state.timeOfUse===R.X.TYPE,btnText:R.X.NAME,textColor:"rgb(".concat(x["--foreground_500"],")"),borderColor:"transparent",activeColor:"rgb(".concat(x["--primary_500"],")"),activeTextColor:"rgb(".concat(x["--foreground_300"],")"),onClick:function(){return e.onTOUChange(R.X.TYPE)},btnTextTransform:"none",hoverColor:"rgb(".concat(x["--background_300"],", 0.7)"),role:"radio"})))),n&&n()&&d.a.createElement(T.a,{classes:{root:"insights-filter-card-view"}},d.a.createElement(O.a,{tabIndex:"0","aria-label":I.display,classes:{body1:"view-by"}},I.display),d.a.createElement(y,{size:"large",className:"insights-button-group","data-widget-name":S,"data-bg-color":"primary_200",role:"radiogroup",tabIndex:"0","aria-label":I.display},Object.keys(R.y).map(function(t){return d.a.createElement("div",{className:"insights-view-button","data-widget-name":S,"data-active-bg-color":"background_700","data-active-color":"background_300","data-text-color":"foreground_400",key:t},d.a.createElement(M.a,{key:t,isActive:e.state.graphStyle===R.y[t],btnText:e.getGraphStyleLabel(t),textColor:"rgb(".concat(x["--foreground_500"],")"),borderColor:"transparent",activeColor:"rgb(".concat(x["--primary_500"],")"),activeTextColor:"rgb(".concat(x["--foreground_300"],")"),onClick:function(){return e.onGraphStyleChange(R.y[t])},btnTextTransform:"none",hoverColor:"rgb(".concat(x["--background_300"],", 0.7)"),ariaChecked:e.state.graphStyle===R.y[t],role:"radio"}))}))),B&&d.a.createElement(d.a.Fragment,null,d.a.createElement(T.a,{classes:{root:"insights-filter-card-view"}},d.a.createElement(O.a,{id:I.title,classes:{body1:"view-by"}},I.title),d.a.createElement(y,{size:"large",className:"insights-button-group","data-widget-name":S,"data-bg-color":"primary_200",role:"radiogroup","aria-labelledby":I.title},Object.keys(R.Q).map(function(t){return d.a.createElement("div",{key:t,className:"insights-view-button","data-widget-name":S,"data-bg-color":"primary_200","data-text-color":"foreground_500","data-active-bg-color":"background_300"},d.a.createElement(M.a,{isActive:e.state.chartType===R.Q[t],btnBackground:"rgba(".concat(x["--primary_200"],", 0.48)"),btnText:e.getGraphTypeLabel(t),textColor:"rgb(".concat(x["--foreground_500"],")"),borderColor:"transparent",btnTextTransform:"none",activeColor:"rgb(".concat(x["--primary_500"],")"),activeTextColor:"rgb(".concat(x["--foreground_300"],")"),hoverColor:"rgb(".concat(x["--foreground_300"],", 0.7)"),onClick:function(){return e.onChartTypeChange(R.Q[t])},ariaChecked:e.state.chartType===R.Q[t],role:"radio"}))}))),(N?L["DASHBOARD.MONTHLY_SUMMARY.TOGGLE_ENABLED_FOR_SOLAR"]:L["DASHBOARD.MONTHLY_SUMMARY.TOGGLE_ENABLED"])&&d.a.createElement(T.a,{classes:{root:"insights-filter-card-view"}},d.a.createElement(O.a,{id:"usage",classes:{body1:"view-by"}},I.usage),d.a.createElement(y,{size:"large",className:"insights-button-group","data-widget-name":S,"data-bg-color":"primary_200",role:"radiogroup","aria-labelledby":"usage"},d.a.createElement("div",{className:"insights-view-button","data-widget-name":S,"data-bg-color":"primary_200","data-text-color":"foreground_500","data-active-bg-color":"background_300"},d.a.createElement(M.a,{isActive:this.state.activeMode===k,btnBackground:"rgba(".concat(x["--primary_200"],", 0.48)"),btnText:Object(_.x)(k,L),textColor:"rgb(".concat(x["--foreground_500"],")"),borderColor:"transparent",btnTextTransform:"none",activeColor:"rgb(".concat(x["--primary_500"],")"),activeTextColor:"rgb(".concat(x["--foreground_300"],")"),hoverColor:"rgb(".concat(x["--foreground_300"],", 0.7)"),onClick:function(){return e.onActiveModeChange(k)},ariaChecked:this.state.activeMode===k,role:"radio"})),d.a.createElement("div",{className:"insights-view-button","data-widget-name":S,"data-bg-color":"primary_200","data-text-color":"foreground_500","data-active-bg-color":"background_300"},d.a.createElement(M.a,{isActive:this.state.activeMode===P,btnBackground:"rgba(".concat(x["--primary_200"],", 0.48)"),btnText:Object(_.x)(P,L),textColor:"rgb(".concat(x["--foreground_500"],")"),borderColor:"transparent",btnTextTransform:"none",activeColor:"rgb(".concat(x["--primary_500"],")"),activeTextColor:"rgb(".concat(x["--foreground_300"],")"),hoverColor:"rgb(".concat(x["--foreground_300"],", 0.7)"),onClick:function(){return e.onActiveModeChange(P)},ariaChecked:this.state.activeMode===P,role:"radio"})))))))),d.a.createElement("div",{onClick:this.onClose,className:"insights-dialog-mask ".concat(D&&!v?"dark":"")}))}}]),a}(d.a.Component);t.a=w}}]);