(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{315:function(e,a,t){"use strict";t.r(a);var n=t(6),r=t(7),s=t(46),l=t(9),i=t(8),o=t(2),c=t.n(o),d=t(49),u=t(603),m=t(71),p=t(18),E=t(0),b=t(5),T=t(399),A=t.n(T),g=t(119),N=t(609),h=t(604),S=t(605),P=t(1),R=t(57),C=t(21),v=t(34);function L(e){var a=Object(o.useRef)(null),t=e.item.resources,n={minHeight:e.isMobView?"10px":68*e.candidateStyle+"px"},r={minHeight:e.isMobView?"auto":e.maxBlockHeight+"px"},s=Object(C.k)(),l=Object(C.l)(),i=e.translations["RATEPLANS.PLAN_DESCRIPTION.LINK"],d=e.translations["RATEPLANS.PLAN_DESCRIPTION.TITLE"],u=e.tabIndex,m=function(a,t){Object(v.a)(e.userId,P.V.INSIGHTS_RATE_PLAN,{clicked:P.J,widget:P.Pb.INSIGHTS.RATE_PLANS},e),Object(R.f)(t)?window.open(t):Object(R.h)(s,l,a,t)};return Object(o.useEffect)(function(){(0,e.sendBlockHeightCb)(a.current.offsetHeight)},[]),c.a.createElement("div",{className:"rate-plan-card-bottom"},t.description?c.a.createElement("div",{className:"plan-description-block",ref:a,style:r},c.a.createElement("div",{className:"works"},c.a.createElement("div",{className:"heading",role:"heading","aria-level":"4"},d),c.a.createElement("div",{className:"detail"}," ",t.description," "),c.a.createElement("span",{tabIndex:u,role:"link","aria-label":"".concat(i,", ").concat(t.planName),className:"learn-link",onClick:function(e){return m(e,t.learnMoreCtaUrl)},onKeyDown:function(e){return function(e,a){13==e.keyCode&&m(e,a)}(e,t.learnMoreCtaUrl)}}," ",i))):"",t.graphImageUrl?c.a.createElement("div",{className:"plan-image-block"},c.a.createElement("img",{className:"bill-cycle-img",src:t.graphImageUrl,alt:""})):"",t.rateCandidateRequirements&&t.rateCandidateRequirements.length?c.a.createElement("div",{className:"candidate-block",style:n},c.a.createElement("div",{className:"heading",role:"heading","aria-level":"4"},c.a.createElement("span",{tabIndex:u},e.translations["RATEPLANS.CANDIDATE_BLOCK.TITLE"])),t.rateCandidateRequirements.map(function(e,a){return c.a.createElement("div",{key:a,className:"detail ".concat(e.type===P.cb.POSITIVE?"good-candidate":"bad-candidate")},e.type===P.cb.POSITIVE?c.a.createElement("span",{tabIndex:u,"aria-label":e.type,className:"bidgely-icon-positive-tick"}):c.a.createElement("span",{tabIndex:u,"aria-label":e.type,className:"bidgely-icon-negative-tick"}),c.a.createElement("span",{className:"text-block"},c.a.createElement("span",{tabIndex:u},e.description)))})):"")}var f=t(92),_=t(3),y=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).handleDisableClick=function(e){Object(_.L)()&&(9===e.keyCode||9===e.keyCode&&e.shiftKey||37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode||e.preventDefault())},r.handleSliderRendering=function(e){if(!e)return!1;e.querySelectorAll(".slick-slide").forEach(function(e){e&&e.hasAttribute("tabindex")&&e.removeAttribute("tabindex")}),e.querySelectorAll(".rate-plan-card").forEach(function(e){e&&e.hasAttribute("tabindex")&&e.removeAttribute("tabindex")})},r.state={isExpand:!1,expanded:"",maxBlockHeight:0},r.blocks=[],r.handleChange=r.handleChange.bind(Object(s.a)(r)),r.handlePlanBtnClick=r.handlePlanBtnClick.bind(Object(s.a)(r)),r.calculateMaxHeightForPlanDescBlock=r.calculateMaxHeightForPlanDescBlock.bind(Object(s.a)(r)),r}return Object(r.a)(t,[{key:"handleChange",value:function(e){this.setState({isExpand:e!==this.state.expanded||!this.state.isExpand,expanded:e})}},{key:"handlePlanBtnClick",value:function(e,a){if(!a.isCurrentRate){var t=a.resources.switchPlanCtaUrl;Object(v.a)(this.props.userId,P.V.INSIGHTS_RATE_PLAN,{clicked:"View this plan",widget:P.Pb.INSIGHTS.RATE_PLANS},this.props),Object(R.f)(t)?window.open(t):Object(R.h)(this.props.history,this.props.location,e,t)}}},{key:"calculateMaxHeightForPlanDescBlock",value:function(e){this.blocks.push(e);var a=this.getRatePlanList();this.blocks.length===a.length&&this.setState(Object(E.a)(Object(E.a)({},this.state),{},{maxBlockHeight:Math.max.apply(Math,Object(p.a)(this.blocks))}))}},{key:"getRatePlanList",value:function(){var e=this.props.maxCardsToShow;return this.props.ratePlansData.rateplansList&&this.props.ratePlansData.rateplansList.length>e?this.props.ratePlansData.rateplansList.slice(0,e):this.props.ratePlansData.rateplansList}},{key:"getRatePlanTitle",value:function(e,a,t,n,r){if((e.isCurrentRate||e.isHighestSavings&&a)&&r[e.planTitle])return r[e.planTitle];if(e.isCurrentRate&&e.isHighestSavings){if(a)return r["RATEPLANS.PLAN_BEST_SUBTITLE"]}else{if(e.isPositiveSaving)return"".concat(r["RATEPLANS.SAVE_UP_TO"]," ").concat(n.currency_unit).concat(e.savingCost," ").concat(t);if(!e.isCurrentRate)return 0===e.savingCost?r["RATEPLANS.COSTS_SAME"]:"".concat(r["RATEPLANS.COSTS"]," ").concat(n.currency_unit).concat(e.savingCost," ").concat(r["RATEPLANS.MORE"]," ").concat(t);if(a)return r["RATEPLANS.PLAN_CURRENT_SUBTITLE"]}return""}},{key:"handleKeyPress",value:function(e,a){!e||32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),this.setState({isExpand:a!==this.state.expanded||!this.state.isExpand,expanded:a}))}},{key:"render",value:function(){var e=this,a=this.props.ratePlansData,t=this.getRatePlanList(),n=this.props.configs.data,r=this.props.translations,s={slidesToShow:t?t.length:0,slidesToScroll:t?t.length:0},l=this.props.savingsDisplayMode===P.hb.MONTHLY,i=l?r["RATEPLANS.PER_MONTH"]:r["RATEPLANS.PER_YEAR"],o=l?"":r["RATEPLANS.PLAN_YEAR"],d=l?r["RATEPLANS.AVERAGE_SAVINGS_TEXT"]:r["RATEPLANS.PLAN_NAME_TEXT"],u=n["dashboard.ratePlans.bestRateRecommendation"],m=n["dashboard.ratePlans.verticallyCentered"],p=r["RATEPLANS.DEMAND_CHARGE_TEXT"],E=n["dashboard.ratePlans.normaliseHighestSaveBtn"],T=!1;t&&t.length&&(T=t.find(function(e){return e.costBreakdown.averageDemandCharges>0}));var g=a.isMissingData?-1:0;return c.a.createElement(c.a.Fragment,null," ",a.isLoading?c.a.createElement("div",{className:"loading-wrapper"}," ",c.a.createElement(f.a,null),"  "):c.a.createElement(c.a.Fragment,null,t&&t.length?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"insights-rate-plans-wrapper ".concat(2===t.length?"center-align-rate-plan":""," ").concat(a.isMissingData?"missing-data":""," ").concat(m?"vertically-centered":""),ref:function(a){return e.handleSliderRendering(a)}},c.a.createElement("div",{"aria-hidden":a.isMissingData},c.a.createElement(A.a,s,t.map(function(t,s){return c.a.createElement("div",{className:"rate-plan-card",key:s,"aria-hidden":a.isMissingData},c.a.createElement("div",{className:"rate-plan-card-top ".concat(u?"":"no-recommendation")},c.a.createElement("div",{id:"header-".concat(s),className:"rate-plan-card-top-header",role:"heading","aria-level":"3",tabIndex:g,"aria-label":"".concat(e.getRatePlanTitle(t,u,i,n,r)," ").concat(t.resources.planName)},c.a.createElement("div",{"aria-hidden":"true",className:"card-header ".concat(t.isCurrentRate&&t.isHighestSavings||!t.isCurrentRate&&t.isPositiveSaving?"active":"")},(t.isCurrentRate||t.isHighestSavings&&u)&&c.a.createElement("div",{className:"plan-title"}," ",r[t.planTitle]," "),c.a.createElement("div",{className:"plan-subtitle"},t.isHighestSavings&&u?c.a.createElement("span",{className:"rate-plan-star"},"\u2605"):"",t.isCurrentRate&&t.isHighestSavings?c.a.createElement(c.a.Fragment,null,u?r["RATEPLANS.PLAN_BEST_SUBTITLE"]:""):c.a.createElement(c.a.Fragment,null,t.isPositiveSaving?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"saving-cost"},r["RATEPLANS.SAVE_UP_TO"],n.currency_unit,t.savingCost),"\xa0",i):"",t.isPositiveSaving||t.isCurrentRate?c.a.createElement("span",{className:"current"},u?r["RATEPLANS.PLAN_CURRENT_SUBTITLE"]:""):c.a.createElement(c.a.Fragment,null,0===t.savingCost?c.a.createElement("span",{className:"saving-cost"},r["RATEPLANS.COSTS_SAME"]):c.a.createElement(c.a.Fragment,null,r["RATEPLANS.COSTS"],c.a.createElement("span",{className:"saving-cost"},n.currency_unit,t.savingCost,"\xa0",r["RATEPLANS.MORE"]),i))))),c.a.createElement("div",{"aria-hidden":"true",className:"plan-name"}," ",t.resources.planName," ")),c.a.createElement("div",{className:"card-container",tabIndex:g},c.a.createElement("div",{className:"plan-your-approximate"}," ",d," "),c.a.createElement("div",{className:"plan-price"},c.a.createElement("span",{className:"currency type"},c.a.createElement("sup",null,n.currency_unit)),c.a.createElement("span",{className:"currency value"},l?t.avgCost:t.totalCost),c.a.createElement("span",{className:"currency time"}," ",c.a.createElement("sub",null," ",o," ")," ")),T?c.a.createElement("div",{className:"demand-charge"},t.costBreakdown.averageDemandCharges?c.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(_.P)(p,Object(b.a)({},"demand_charge_value",Object(_.c)({cost:t.costBreakdown.averageDemandCharges,round:!0,showCurrency:!0})))}}):""):""),c.a.createElement("div",{onKeyDown:function(a){return t.isCurrentRate&&e.handleDisableClick(a)},className:"plan-btn-wrapper",onClick:function(a){return e.handlePlanBtnClick(a,t)}},c.a.createElement("button",{tabIndex:g,"aria-describedby":"header-".concat(s),"aria-disabled":t.isCurrentRate,"aria-label":"".concat(t.isCurrentRate?r["RATEPLANS.PLAN_BTN_TEXT_CURRENT"]:r["RATEPLANS.PLAN_BTN_TEXT_SWITCH"],", ").concat(t.resources.planName),className:"plan-btn ".concat(t.isCurrentRate?"btnDisable":"".concat(t.isHighestSavings&&u&&!E?"highest-btn":"switch-btn"))},t.isCurrentRate?c.a.createElement(c.a.Fragment,null," ",r["RATEPLANS.PLAN_BTN_TEXT_CURRENT"]," "):c.a.createElement(c.a.Fragment,null," ",r["RATEPLANS.PLAN_BTN_TEXT_SWITCH"])))),e.props.isMobileView||e.props.isTabletView?c.a.createElement("div",{className:"accordion-wrapper"},c.a.createElement(N.a,{expanded:e.state.expanded==="panel".concat(s)&&e.state.isExpand,onChange:function(){return e.handleChange("panel".concat(s))},onKeyDown:function(a){return e.handleKeyPress(a,"panel".concat(s))}},c.a.createElement(h.a,null,e.state.isExpand&&e.state.expanded==="panel".concat(s)?c.a.createElement("div",{className:"rate-plan-expansion"}," ",c.a.createElement("span",{className:"bidgely-icon-arrow-down"})," ",r["RATEPLANS.MOBILE_VIEW_HIDE"],"  "):c.a.createElement("div",{className:"rate-plan-expansion"}," ",c.a.createElement("span",{className:"bidgely-icon-arrow-right"})," ",r["RATEPLANS.MOBILE_VIEW_SHOW"]," ")),c.a.createElement(S.a,{"aria-hidden":!(e.state.expanded==="panel".concat(s)&&e.state.isExpand)},c.a.createElement(L,{location:e.props.location,userId:e.props.userId,itemIndex:s,tabIndex:g,sendBlockHeightCb:e.calculateMaxHeightForPlanDescBlock,maxBlockHeight:e.state.maxBlockHeight,item:t,candidateStyle:a.candidateStyle,translations:r,isMobView:e.props.isMobileView})))):c.a.createElement(L,{location:e.props.location,userId:e.props.userId,tabIndex:g,itemIndex:s,sendBlockHeightCb:e.calculateMaxHeightForPlanDescBlock,maxBlockHeight:e.state.maxBlockHeight,item:t,candidateStyle:a.candidateStyle,translations:r}))}))),a.isMissingData?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"rate-plans-api-error-wrapper"},c.a.createElement("div",{className:"api-error-data"},c.a.createElement("div",{className:"api-error-text",tabIndex:0},this.props.translations["RATEPLANS_PAGE.NO_DATA"]))),c.a.createElement("div",{className:"rate-plans-overlay"}," ")):"")):"")," ")}}]),t}(c.a.Component),I=Object(g.a)(function(e){return{"@global":{".MuiAccordionSummary-root":{minHeight:0,padding:"0 12px"},".MuiAccordionDetails-root":{padding:0},".MuiPaper-elevation1":{boxShadow:"none"},".MuiAccordionSummary-root.Mui-expanded":{minHeight:0},".MuiAccordionSummary-content.Mui-expanded":{margin:"12px 0"},".MuiAccordionSummary-content":{fontSize:"12px",lineHeight:"15px"},".MuiTooltip-popper":Object(b.a)({},e.breakpoints.up("lg"),{left:"-90px !important"}),".MuiTooltip-popperArrow .MuiTooltip-arrow":Object(b.a)({},e.breakpoints.up("lg"),{left:"305px !important"}),".MuiTooltip-arrow":{overflow:"unset"},".MuiCollapse-hidden":{display:"none"}}}})(y),k=t(13),x=t(14),O=t.n(x),w=t(10),D=t(86),H=t(98);var M=t(47),B=t(509),j=t(513),V=t(512),U=t(508),F=t(510),W=t(511),G=t(336),K=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"componentDidMount",value:function(){Object(_.L)()&&this.props.closeRef&&this.props.closeRef.current.focus(),window.scrollTo(0,100)}},{key:"render",value:function(){var e=this,a=this.props.ratePlansData,t=this.props.ratePlansData.rateplansList,n=this.props.configs.data,r=this.props.translations,s=k.a.getColors().colors,l=this.props.savingsDisplayMode===P.hb.MONTHLY,i=l?r["RATEPLANS.PER_MONTH"]:r["RATEPLANS.PER_YEAR"],o=l?r["RATEPLANS.AVERAGE_COST"]:r["RATEPLANS.TOTAL_COST"],d=this.props.responsiveness.isMobileView,m=function(a,t){if(Object(v.a)(e.props.userId,P.V.INSIGHTS_RATE_PLAN,{clicked:"View this plan",widget:P.Pb.INSIGHTS.RATE_PLANS},e.props),!t.isCurrentRate){var n=t.resources.switchPlanCtaUrl;Object(R.f)(n)?window.open(n):Object(R.h)(e.props.history,e.props.location,a,n)}},p=function(a,t){Object(v.a)(e.props.userId,P.V.INSIGHTS_RATE_PLAN,{clicked:P.J,widget:P.Pb.INSIGHTS.RATE_PLANS},e.props),Object(R.f)(t)?window.open(t):Object(R.h)(e.props.history,e.props.location,a,t)},E=function(e,a){13==e.keyCode&&p(e,a)},T=n["dashboard.ratePlans.bestRateRecommendation"],A=r["RATEPLANS.DEMAND_CHARGE_TEXT"];return c.a.createElement(c.a.Fragment,null,!a.isLoading&&c.a.createElement(c.a.Fragment,null,t&&t.length&&c.a.createElement(c.a.Fragment,null,!d&&c.a.createElement(U.a,{component:u.a,className:"rate-plans-table-container"},c.a.createElement(B.a,{"aria-label":r["DASHBOARD.LABEL.RATE_PLANS"],className:"rate-plans-table"},c.a.createElement(F.a,{className:"rate-plans-table-header"},c.a.createElement(W.a,null,c.a.createElement(V.a,null,r["RATEPLANS.PLAN_STATUS"]),c.a.createElement(V.a,null,r["RATEPLANS.PLAN_NAME"]),c.a.createElement(V.a,null,o),c.a.createElement(V.a,null,r["RATEPLANS.SWITCH_PLANS"]),c.a.createElement(V.a,null,r["RATEPLANS.HOW_THIS_PLAN_WORKS"]))),c.a.createElement(j.a,{className:"rate-plans-table-body"},t.map(function(e,a){return c.a.createElement(W.a,{className:"rate-plans-table-row"+(a%2===0?" odd":""),key:a},c.a.createElement(V.a,null,c.a.createElement("div",null,(e.isCurrentRate||e.isHighestSavings&&T)&&c.a.createElement("div",{className:"current-or-highest"},r[e.planTitle]),c.a.createElement("div",{className:"plan-subtitle",id:"plan-desc-".concat(a)},e.isCurrentRate&&e.isHighestSavings?c.a.createElement(c.a.Fragment,null," ",T?r["RATEPLANS.PLAN_BEST_SUBTITLE"]:""," "):c.a.createElement(c.a.Fragment,null,e.isPositiveSaving&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"saving-cost"},r["RATEPLANS.SAVE_UP_TO"],n.currency_unit,e.savingCost),"\xa0",i),e.isPositiveSaving||e.isCurrentRate?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"current"}," ",T?r["RATEPLANS.PLAN_CURRENT_SUBTITLE"]:"")):c.a.createElement(c.a.Fragment,null,0===e.savingCost?c.a.createElement("span",{className:"saving-cost"},r["RATEPLANS.COSTS_SAME"]):c.a.createElement(c.a.Fragment,null,r["RATEPLANS.COSTS"],c.a.createElement("span",{className:"saving-cost"},n.currency_unit,e.savingCost,"\xa0",r["RATEPLANS.MORE"]),i)))))),c.a.createElement(V.a,null,e.resources.planName),c.a.createElement(V.a,null,c.a.createElement("div",{className:"plan-price"},c.a.createElement("span",{className:"currency type"},n.currency_unit),c.a.createElement("span",{className:"currency value"},l?e.avgCost:e.totalCost)),e.costBreakdown.averageDemandCharges?c.a.createElement("div",{className:"demand-charge-text",dangerouslySetInnerHTML:{__html:"(".concat(Object(_.P)(A,Object(b.a)({},"demand_charge_value",Object(_.c)({cost:e.costBreakdown.averageDemandCharges,round:!0,showCurrency:!0}))),")")}}):""),c.a.createElement(V.a,null,c.a.createElement(G.a,{btnVariant:"outlined",btnText:e.isCurrentRate?r["RATEPLANS.PLAN_BTN_TEXT_CURRENT"]:r["RATEPLANS.PLAN_BTN_TEXT_SWITCH"],disableRipple:!0,btnBackground:"rgb(".concat(s["--background_300"],")"),borderColor:"rgb(".concat(s["--primary_500"],")"),textColor:"rgb(".concat(s["--primary_500"],")"),hoverColor:"rgb(".concat(s["--primary_500"],")"),hoverTextColor:"rgb(".concat(s["--foreground_300"],")"),btnTextTransform:"none",btnWidth:"95%",ariaDisabled:e.isCurrentRate,onKeyDown:function(a){return e.isCurrentRate&&function(e){Object(_.L)()&&(9===e.keyCode||9===e.keyCode&&e.shiftKey||37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode||e.preventDefault())}(a)},onClick:function(a){return m(a,e)},btnTextSize:"12px",ariaLabel:"".concat(e.isCurrentRate?r["RATEPLANS.PLAN_BTN_TEXT_CURRENT"]:r["RATEPLANS.PLAN_BTN_TEXT_SWITCH"],", ").concat(e.resources.planName),ariaDescribedby:"plan-desc-".concat(a),cssClassName:e.isCurrentRate?"disableBtn":""})),c.a.createElement(V.a,{className:"description"},e.resources.description,c.a.createElement("br",null),e.resources&&e.resources.learnMoreCtaUrl&&c.a.createElement("span",{tabIndex:"0",role:"link","aria-label":"".concat(r["RATEPLANS.PLAN_DESCRIPTION.LINK"],", ").concat(e.resources.planName),className:"learn-link-table",onClick:function(a){return p(a,e.resources.learnMoreCtaUrl)},onKeyDown:function(a){return E(a,e.resources.learnMoreCtaUrl)}}," ",r["RATEPLANS.PLAN_DESCRIPTION.LINK"])))})))),d&&c.a.createElement(U.a,{component:u.a,className:"rate-plans-table-container"},c.a.createElement(B.a,{"aria-label":r["DASHBOARD.LABEL.RATE_PLANS"],className:"rate-plans-table"},c.a.createElement(j.a,{className:"rate-plans-table-body"},t.map(function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(W.a,{className:"rate-plans-table-row"},c.a.createElement(V.a,null,r["RATEPLANS.PLAN_STATUS"]),c.a.createElement(V.a,{className:a%2===0?" odd":""},c.a.createElement("div",null,(e.isCurrentRate||e.isHighestSavings&&T)&&c.a.createElement("div",{className:"current-or-highest"},r[e.planTitle]),c.a.createElement("div",{className:"plan-subtitle",id:"plan-desc-".concat(a)},e.isCurrentRate&&e.isHighestSavings?c.a.createElement(c.a.Fragment,null," ",T?r["RATEPLANS.PLAN_BEST_SUBTITLE"]:""," "):c.a.createElement(c.a.Fragment,null," ",e.isPositiveSaving?c.a.createElement(c.a.Fragment,null," ",c.a.createElement("span",{className:"saving-cost"},r["RATEPLANS.SAVE_UP_TO"],n.currency_unit,e.savingCost),"\xa0",i):c.a.createElement(c.a.Fragment,null,e.isCurrentRate?c.a.createElement(c.a.Fragment,null," ",c.a.createElement("span",{className:"current"}," ",r["RATEPLANS.PLAN_CURRENT_SUBTITLE"])," "):c.a.createElement(c.a.Fragment,null," ",0===e.savingCost?c.a.createElement("span",{className:"saving-cost"},r["RATEPLANS.COSTS_SAME"]):c.a.createElement(c.a.Fragment,null,r["RATEPLANS.COSTS"],c.a.createElement("span",{className:"saving-cost"},n.currency_unit,e.savingCost,"\xa0",r["RATEPLANS.MORE"]),i)))))))),c.a.createElement(W.a,{className:"rate-plans-table-row"},c.a.createElement(V.a,null,r["RATEPLANS.PLAN_NAME"]),c.a.createElement(V.a,{className:a%2===0?" odd":""},e.resources.planName)),c.a.createElement(W.a,{className:"rate-plans-table-row"},c.a.createElement(V.a,null,o),c.a.createElement(V.a,{className:a%2===0?" odd":""},c.a.createElement("div",{className:"plan-price"},c.a.createElement("span",{className:"currency type"},n.currency_unit),c.a.createElement("span",{className:"currency value"},l?e.avgCost:e.totalCost)),e.costBreakdown.averageDemandCharges?c.a.createElement("div",{className:"demand-charge-text",dangerouslySetInnerHTML:{__html:"(".concat(Object(_.P)(A,Object(b.a)({},"demand_charge_value",Object(_.c)({cost:e.costBreakdown.averageDemandCharges,round:!0,showCurrency:!0}))),")")}}):"")),c.a.createElement(W.a,{className:"rate-plans-table-row"},c.a.createElement(V.a,null,r["RATEPLANS.SWITCH_PLANS"]),c.a.createElement(V.a,{className:a%2===0?" odd":""},c.a.createElement(G.a,{btnVariant:"outlined",btnText:e.isCurrentRate?r["RATEPLANS.PLAN_BTN_TEXT_CURRENT"]:r["RATEPLANS.PLAN_BTN_TEXT_SWITCH"],disableRipple:!0,btnBackground:"rgb(".concat(s["--background_300"],")"),borderColor:"rgb(".concat(s["--primary_500"],")"),textColor:"rgb(".concat(s["--primary_500"],")"),hoverColor:"rgb(".concat(s["--primary_500"],")"),hoverTextColor:"rgb(".concat(s["--foreground_300"],")"),btnTextTransform:"none",btnWidth:"95%",onClick:function(a){return m(a,e.resources.switchPlanCtaUrl)},btnTextSize:"12px",disabled:e.isCurrentRate,ariaLabel:"".concat(e.isCurrentRate?r["RATEPLANS.PLAN_BTN_TEXT_CURRENT"]:r["RATEPLANS.PLAN_BTN_TEXT_SWITCH"],", ").concat(e.resources.planName),ariaDescribedby:"plan-desc-".concat(a)}))),c.a.createElement(W.a,{className:"rate-plans-table-row last"},c.a.createElement(V.a,null,r["RATEPLANS.HOW_THIS_PLAN_WORKS"]),c.a.createElement(V.a,{className:"description"+(a%2===0?" odd":"")},e.resources.description,c.a.createElement("br",null),e.resources&&e.resources.learnMoreCtaUrl&&c.a.createElement("a",{tabIndex:"0",className:"learn-link-table",role:"link","aria-label":"".concat(r["RATEPLANS.PLAN_DESCRIPTION.LINK"],", ").concat(e.resources.description),onClick:function(a){return p(a,e.resources.learnMoreCtaUrl)},onKeyDown:function(a){return E(a,e.resources.learnMoreCtaUrl)}},r["RATEPLANS.PLAN_DESCRIPTION.LINK"]))))})))))))}}]),t}(c.a.Component),X=t(356),z=t.n(X),q=t(22),Y=t(50),J=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).configColors=k.a.getColors().colors,r.widgetTrackingInfo=q.a.getInstance().createWidgetInfo(P.Qb.INSIGHTS_RATE_PLAN),r.state={isTabularView:!1},r.toggleTabularView=r.toggleTabularView.bind(Object(s.a)(r)),r.closeRatePlanTableRef=c.a.createRef(),r.showAllPlansRef=c.a.createRef(),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e={"measurement-type":Object(_.n)(this.props.session.userProfile.fuelType),locale:this.props.configs.locale,"scale-values":this.props.configs.data["RATEPLANS.SAVINGS.MODE"]!==P.hb.MONTHLY};Object(M.b)()&&(e.templateName="".concat(P.Pb.INSIGHTS.RATE_PLANS,".FETCH_RATE_PLANS")),this.props.fetchingRatePlansData(),this.props.fetchRatePlansData(this.props.userId,e,this.props.configs.data.rateDataPointsThreshold),Object(v.a)(this.props.userId,P.V.INSIGHTS_RATE_PLAN,{viewed:!0,shown:P.C.RATE_PLANS},this.props)}},{key:"componentDidUpdate",value:function(e){if(this.widgetTrackingInfo&&e.ratePlansData&&e.ratePlansData.isLoading&&!this.props.ratePlansData.isLoading){var a=this.props.ratePlansData.error?P.f.ERROR:this.props.ratePlansData.dataNotAvailable?P.f.DATA_NOT_AVAILABLE:P.f.SUCCESS,t=this.props.ratePlansData.errorInfo;q.a.getInstance().logWidgetInfo(this.widgetTrackingInfo,a,t),this.widgetTrackingInfo=null}}},{key:"toggleTabularView",value:function(){var e=this;this.setState({isTabularView:!this.state.isTabularView},function(){e.showAllPlansRef&&e.showAllPlansRef.current&&e.showAllPlansRef.current.focus()}),Object(v.a)(this.props.userId,P.V.INSIGHTS_RATE_PLAN,{clicked:"Show all price plans",widget:P.Pb.INSIGHTS.RATE_PLANS},this.props)}},{key:"handleKeyPress",value:function(e){!e||32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),this.toggleTabularView())}},{key:"render",value:function(){var e=this,a=this.props,t=a.translations,n=a.ratePlansData,r=a.configs,s=a.responsiveness,l=s.isMobileView,i=s.isTabletView,o=this.state.isTabularView,d=r.data["RATEPLANS.SAVINGS.MODE"],m=r.data["RATEPLANS.MAX_RATE_CARDS_TO_SHOW"],p=n&&n.rateplansList&&n.rateplansList.length>m,E=r.data["DASHBOARD.RATE_PLANS.HIDE_HEADER"],b=n&&n.descriptionText,T=this.context.runMode===P.Lb;return c.a.createElement(u.a,{className:"insights-rate-plans-container",role:"region","aria-labelledby":"rate-plan-heading"},o?c.a.createElement("div",{id:"rate-plan-heading","aria-label":t["DASHBOARD.LABEL.RATE_PLANS"]},c.a.createElement("button",{"aria-label":t["RATEPLANS.SHOW_PRICE_PLAN_TABLE_CLOSE"],tabIndex:"0",className:"close-icon-btn",onKeyDown:function(a){return 32===a.keyCode&&e.toggleTabularView()},ref:this.closeRatePlanTableRef,onClick:function(){return e.toggleTabularView()}},c.a.createElement(z.a,{classes:{root:"close-icon"},"aria-hidden":"true"})),c.a.createElement(K,{ratePlansData:n,configs:r,translations:t,isMobileView:l,userId:this.props.userId,location:this.props.location,isTabletView:i,savingsDisplayMode:d,responsiveness:this.props.responsiveness,closeRef:this.closeRatePlanTableRef})):c.a.createElement(c.a.Fragment,null,!E&&c.a.createElement("div",{id:"rate-plan-heading",role:"heading","aria-level":"2",tabIndex:0,className:T?"widget-header-cont ".concat(Object(_.J)()?"no-bg":""):"insights-rate-plans-title",dangerouslySetInnerHTML:{__html:t["RATEPLANS_PAGE.TITLE"]}}),b&&c.a.createElement("div",{className:"insights-rate-plans-subtitle",dangerouslySetInnerHTML:{__html:b}}),c.a.createElement("div",{className:"insights-rate-plans-subtitle",dangerouslySetInnerHTML:{__html:t["RATEPLANS.TOOLTIP_DATA"]}}),c.a.createElement("div",{className:"insights-rate-plans-subtitle1"},c.a.createElement("div",{className:"insight-rate-plans-subtitle-mobile",dangerouslySetInnerHTML:{__html:t["RATEPLANS_PAGE.DESC2"]}})),c.a.createElement("div",{className:"insights-rate-plans-desc",dangerouslySetInnerHTML:{__html:t["RATEPLANS_PAGE.SUBTITLE.ADA"]}}),c.a.createElement(I,{ratePlansData:n,configs:r,translations:t,isMobileView:l,isTabletView:i,userId:this.props.userId,savingsDisplayMode:d,maxCardsToShow:m,location:this.props.location,history:this.props.history}),p&&c.a.createElement("div",{ref:this.showAllPlansRef,onKeyDown:function(a){return e.handleKeyPress(a)},className:"insights-rate-plans-show-all ".concat(Object(_.L)()?"ada-focus":""),onClick:function(){return e.toggleTabularView()},tabIndex:"0","aria-label":t["RATEPLANS.SHOW_ALL_RATES"],role:"link"},t["RATEPLANS.SHOW_ALL_RATES"])))}}]),t}(c.a.Component);J.contextType=Y.a;a.default=Object(m.withLastLocation)(Object(d.b)(function(e){return{session:e.session,userId:e.session.userProfile.userId,ratePlansData:e.ratePlansData,configs:e.configs,translations:e.translationsData.data,queryParams:e.queryParams,responsiveness:e.responsiveness}},function(e){return{fetchRatePlansData:function(a,t,n){return e(function(e,a,t){return function(n){var r=Object(w.e)(H.c.getEndpoint(e));O.a.get(r,{params:a}).then(function(e){n({type:D.a.FETCH_SUCCESS,payload:{apiResponse:e.data?e.data.payload:[],dataPointsThreshold:t}})}).catch(function(e){var a=null;e&&(a=e.response&&e.response.data&&e.response.data.error?e.response.data.error:e.data&&e.data.error?e.data.error:e.message),n({type:D.a.FETCH_FAILED,payload:a})})}}(a,t,n))},fetchingRatePlansData:function(){return e(function(e){e({type:D.a.FETCHING_DATA})})}}})(J))},336:function(e,a,t){"use strict";t.d(a,"a",function(){return T});var n=t(362),r=t(5),s=t(2),l=t.n(s),i=t(600),o=t(327),c=t(340),d=t.n(c),u=t(601),m=(t(348),t(3)),p=t(602),E=["cssClassName","hoverTextColor","isMobileView","btnTextColor","btnTextSize","btnBoxShadow","btnWidth","btnTextTransform","hoverColor","textColor","borderColor","btnBackground","btnText","btnVariant"],b=Object(o.a)({root:{color:function(e){return e.textColor},border:function(e){return e.borderColor?"1px solid "+e.borderColor:"none"},backgroundColor:function(e){return e.btnBackground},boxShadow:function(e){return e.btnBoxShadow},"&:hover":{backgroundColor:function(e){return e.hoverColor},color:function(e){return e.hoverTextColor},boxShadow:function(e){return e.btnBoxShadow},borderColor:function(e){return e.borderHoverColor||e.borderColor}},height:function(e){return e.btnHeight},width:function(e){return e.btnWidth},padding:function(e){return e.isMobileView?"5px 10px":""},paddingBottom:function(e){return e.paddingBottom}},btnActive:{backgroundColor:function(e){return e.activeColor},color:function(e){return e.activeTextColor},"&:hover":{backgroundColor:function(e){return e.activeColor},color:function(e){return e.activeTextColor}}},label:{fontSize:function(e){return e.btnTextSize},color:function(e){return e.btnTextColor},textTransform:function(e){return e.btnTextTransform?e.btnTextTransform:"Uppercase"},justifyContent:function(e){return e.labelAlign},textOverflow:"ellipsis",overflow:"hidden"},icon:{marginRight:function(e){return e.iconMarginRight?e.iconMarginRight:"25px"}},iconActive:{color:function(e){return e.iconActiveColor}}});function T(e){var a=b(e),t=e.isBidgelyIcon?d()(e.iconLeft,Object(r.a)({},a.iconActive,e.isIconActive)):"",s=e.cssClassName,o=(e.hoverTextColor,e.isMobileView,e.btnTextColor,e.btnTextSize,e.btnBoxShadow,e.btnWidth,e.btnTextTransform,e.hoverColor,e.textColor,e.borderColor,e.btnBackground,e.btnText,e.btnVariant,Object(n.a)(e,E));return l.a.createElement(i.a,Object.assign({"aria-pressed":e.ariaPressed,"aria-label":e.ariaLabel,type:e.type?e.type:"button",display:e.display,className:(e.isActive?a.btnActive:"")+" "+(s||"")+(e.disabled||e.ariaDisabled?" disabled":""),variant:e.btnVariant?e.btnVariant:"text",classes:{root:a.root,label:a.label},onClick:e.onClick,disableRipple:!e.disableRipple||e.disableRipple,disabled:!!e.disabled&&e.disabled,"data-focus-element":!!e.dataFocusElement&&e.dataFocusElement,role:e.role,"aria-checked":e.ariaChecked,"aria-selected":e.ariaSelected,"aria-disabled":e.ariaDisabled,"aria-describedby":e.ariaDescribedby,tabIndex:e.tabIndex,onKeyDown:function(a){return function(a){(e.ariaDisabled||e.disabled)&&Object(m.L)()&&(9===a.keyCode||9===a.keyCode&&a.shiftKey||37===a.keyCode||38===a.keyCode||39===a.keyCode||40===a.keyCode||a.preventDefault())}(a)}},o),e.loading?l.a.createElement(p.a,{color:"inherit",size:30}):l.a.createElement(l.a.Fragment,null,e.iconLeft?e.isBidgelyIcon?l.a.createElement("span",{className:t}):l.a.createElement(u.a,{classes:{root:a.icon},className:e.isIconActive?a.iconActive:""},e.iconLeft):"",e.btnText,e.iconRight?l.a.createElement(u.a,{classes:{root:a.icon},className:e.isIconActive?a.iconActive:""},e.iconRight):""))}},348:function(e,a,t){var n=t(349);"string"===typeof n&&(n=[[e.i,n,""]]);var r={transform:void 0};t(94)(n,r);n.locals&&(e.exports=n.locals)},349:function(e,a,t){(e.exports=t(93)(!1)).push([e.i,".disableBtn {\n  pointer-events: none; }\n\n.disabled {\n  border-color: rgba(var(--background_600), 1);\n  cursor: not-allowed;\n  color: rgba(var(--foreground_400), 1);\n  background-color: transparent; }\n",""])}}]);